<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>gentext.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version='1.0'</span><span class="z">?&gt;</span><span class="txt">
</span><span class="ww" id="w5"><span class="es">&lt;</span><span class="enxsl">xsl:stylesheet</span><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:db</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:doc</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/documentation/1.0</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:l</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.sourceforge.net/xmlns/l10n/1.0</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:m</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:xs</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2001/XMLSchema</span><span class="z">"</span><span class="z">
                                </span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">db doc f l m xs</span><span class="z">"</span><span class="z">
                                </span><span class="atn">version</span><span class="atneq">=</span><span class="z">'</span><span class="av">2.0</span><span class="z">'</span><span class="scx">&gt;</span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ********************************************************************
     $Id: gentext.xsl 7870 2008-03-07 14:58:44Z nwalsh $
     ********************************************************************

     This file is part of the XSL DocBook Stylesheet distribution.
     See ../README or http://nwalsh.com/docbook/xsl/ for copyright
     and other information.

     ******************************************************************** </span><span class="z">--&gt;</span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w71"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-title-template</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w87"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for locating the title markup template for an element</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx93" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w95"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w99"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to locate the title markup template. Any
element processed in this mode should return the generated text template
that should be used to generate its title.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx105" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx109" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx113" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w115"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-title-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w131"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w141"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">title</span><span class="op">'</span><span class="z">"</span><span id="wx157" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w159"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx176" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx180" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx184" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w186"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:chapter</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-title-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w202"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w206"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?autolabel.elements" class="solar"><span class="variable" start="1" select="quick">$autolabel.elements</span></a><span class="step" start="20">/</span><span class="qname" start="21" select="quick">db:chapter</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w218"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w228"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">title-numbered</span><span class="op">'</span><span class="z">"</span><span id="wx244" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w246"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx263" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx267" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx271" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w273"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w277"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w287"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">title-unnumbered</span><span class="op">'</span><span class="z">"</span><span id="wx303" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w305"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx322" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx326" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx330" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx334" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx338" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w340"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:appendix</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-title-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w356"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w360"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?autolabel.elements" class="solar"><span class="variable" start="1" select="quick">$autolabel.elements</span></a><span class="step" start="20">/</span><span class="qname" start="21" select="quick">db:appendix</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w372"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w382"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">title-numbered</span><span class="op">'</span><span class="z">"</span><span id="wx398" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w400"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx417" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx421" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx425" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w427"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w431"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w441"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">title-unnumbered</span><span class="op">'</span><span class="z">"</span><span id="wx457" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w459"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx476" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx480" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx484" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx488" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx492" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w494"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:section</span><span class="op" start="11">|</span><span class="qname" start="12" select="quick">db:sect1</span><span class="op" start="20">|</span><span class="qname" start="21" select="quick">db:sect2</span><span class="op" start="29">|</span><span class="qname" start="30" select="quick">db:sect3</span><span class="op" start="38">|</span><span class="qname" start="39" select="quick">db:sect4</span><span class="op" start="47">|</span><span class="qname" start="48" select="quick">db:sect5</span><span class="whitespace" start="56">
                     </span><span class="qname" start="57" select="quick">	</span><span class="qname" start="58" select="quick">	</span><span class="whitespace" start="59">     </span><span class="op" start="64">|</span><span class="qname" start="65" select="quick">db:simplesect</span><span class="op" start="78">|</span><span class="qname" start="79" select="quick">db:bridgehead</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-title-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w528"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w532"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}label-this-section" class="solar"><span class="function" start="1" pair-end="23" select="quick">f:label-this-section</span></a><span class="parenthesis">(</span><span class="context" start="22">.</span><span class="parenthesis" start="23">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w545"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w555"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">title-numbered</span><span class="op">'</span><span class="z">"</span><span id="wx571" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w573"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx590" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx594" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx598" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w600"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w604"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w614"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">title-unnumbered</span><span class="op">'</span><span class="z">"</span><span id="wx630" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w632"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx649" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx653" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx657" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx661" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx665" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w667"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:procedure</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-title-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w683"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w687"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?formal.procedures" class="solar"><span class="variable" start="1" select="quick">$formal.procedures</span></a><span class="whitespace" start="19"> </span><span class="op" start="20">!=</span><span class="whitespace" start="22"> </span><span class="numeric" start="23">0</span><span class="whitespace" start="24"> </span><span class="op" start="25">and</span><span class="whitespace" start="28"> </span><span class="qname" start="29" select="quick">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w705"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w715"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">title</span><span class="op">'</span><span class="z">"</span><span id="wx731" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w733"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z">
                			</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function" start="1" pair-end="38" select="quick">concat</span></a><span class="parenthesis">(</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="8" pair-end="26" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="op" start="27">,</span><span class="whitespace" start="28"> </span><span class="op">'</span><span class="literal" start="29">.formal</span><span class="op">'</span><span class="parenthesis" start="38">)</span><span class="z">"</span><span id="wx758" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx762" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx766" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w768"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w772"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w782"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">title</span><span class="op">'</span><span class="z">"</span><span id="wx798" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w800"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx817" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx821" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx825" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx829" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx833" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w839"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-subtitle-template</span><span class="z">"</span><span class="z">
          	  </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w855"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for locating the subtitle markup template for an element
</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx861" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w863"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w867"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to locate the subtitle markup template. Any
element processed in this mode should return the generated text template
that should be used to generate its subtitle.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx873" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx877" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx881" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w883"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-subtitle-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w899"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w909"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">subtitle</span><span class="op">'</span><span class="z">"</span><span id="wx925" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w927"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx944" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx948" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx952" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w958"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-xref-template</span><span class="z">"</span><span class="z">
          	  </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w974"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for locating the cross-reference (</span><span class="ww" id="w978"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">xref</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx984" class="ec">&gt;</span></span><span class="txt">)
markup template for an element</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx988" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w990"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w994"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to locate the </span><span class="ww" id="w998"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">xref</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx1004" class="ec">&gt;</span></span><span class="txt"> markup template. Any
element processed in this mode should return the generated text template
that should be used to generate a cross-reference to it.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1008" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1012" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx1016" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1018"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-xref-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1034"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?purpose">purpose</span><span class="z">"</span><span id="wx1042" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w1044"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?xrefstyle">xrefstyle</span><span class="z">"</span><span id="wx1052" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w1054"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?referrer">referrer</span><span class="z">"</span><span id="wx1062" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> Is autonumbering on? </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ww" id="w1068"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?autonumber">autonumber</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:integer</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1084"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:autonumbered</span><span class="z">"</span><span id="wx1098" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1102" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1104"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?number-and-title-template">number-and-title-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1114"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template-exists" class="solar"><span class="tcall">gentext-template-exists</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1124"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref-number-and-title</span><span class="op">'</span><span class="z">"</span><span id="wx1140" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1142"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx1159" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1163" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1167" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1169"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?number-template">number-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1179"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template-exists" class="solar"><span class="tcall">gentext-template-exists</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1189"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref-number</span><span class="op">'</span><span class="z">"</span><span id="wx1205" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1207"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx1224" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1228" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1232" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1234"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?context">context</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1244"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1248"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$autonumber</span><span class="whitespace" start="12"> </span><span class="op" start="13">!=</span><span class="whitespace" start="15"> </span><span class="numeric" start="16">0</span><span class="whitespace" start="17"> 
                                      </span><span class="op" start="41">and</span><span class="whitespace" start="44"> </span><span class="variable" start="45" select="quick">$number-and-title-template</span><span class="whitespace" start="71"> </span><span class="op" start="72">!=</span><span class="whitespace" start="74"> </span><span class="numeric" start="75">0</span><span class="whitespace" start="76">
                                      </span><span class="op" start="99">and</span><span class="whitespace" start="102"> </span><a href="xslt/base/html/param.xsl.html#v?xref.with.number.and.title" class="solar"><span class="variable" start="103" select="quick">$xref.with.number.and.title</span></a><span class="whitespace" start="130"> </span><span class="op" start="131">!=</span><span class="whitespace" start="133"> </span><span class="numeric" start="134">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w1278"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref-number-and-title</span><span class="op">'</span><span class="z">"</span><span id="wx1288" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1292" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1294"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$autonumber</span><span class="whitespace" start="12"> </span><span class="op" start="13">!=</span><span class="whitespace" start="15"> </span><span class="numeric" start="16">0</span><span class="whitespace" start="17"> 
                                      </span><span class="op" start="41">and</span><span class="whitespace" start="44"> </span><span class="variable" start="45" select="quick">$number-template</span><span class="whitespace" start="61"> </span><span class="op" start="62">!=</span><span class="whitespace" start="64"> </span><span class="numeric" start="65">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w1316"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref-number</span><span class="op">'</span><span class="z">"</span><span id="wx1326" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1330" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1332"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w1336"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref</span><span class="op">'</span><span class="z">"</span><span id="wx1346" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1350" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1354" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1358" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w1360"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1370"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$context</span><span class="z">"</span><span id="wx1384" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1386"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx1403" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1405"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx1419" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1421"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx1435" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1437"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">referrer</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referrer</span><span class="z">"</span><span id="wx1451" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1455" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1459" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1465"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:autonumbered</span><span class="z">"</span><span class="z">
          	  </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1481"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for determining if an element should be numbered</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1487" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1489"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1493"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to determine if an element should be numbered.
Any element processed in this mode should return 1 if it should be numbered,
0 otherwise.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1499" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1503" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx1507" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1509"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:autonumbered</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1525"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1529"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?autolabel.elements" class="solar"><span class="variable" start="1" select="quick">$autolabel.elements</span></a><span class="step" start="20">/</span><span class="qname" start="21" select="quick">*</span><span class="filter" start="22" pair-end="58" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="23" pair-end="34" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="33">.</span><span class="parenthesis" start="34">)</span><span class="whitespace" start="35"> </span><span class="op" start="36">=</span><span class="whitespace" start="37"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="38" pair-end="57" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="48" pair-end="56" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="56">)</span><span class="parenthesis" start="57">)</span><span class="filter" start="58">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1556"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">1</span><span class="z">"</span><span id="wx1564" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1568" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1570"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">0</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1576" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1580" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1584" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1586"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:section</span><span class="op" start="11">|</span><span class="qname" start="12" select="quick">db:sect1</span><span class="op" start="20">|</span><span class="qname" start="21" select="quick">db:sect2</span><span class="op" start="29">|</span><span class="qname" start="30" select="quick">db:sect3</span><span class="op" start="38">|</span><span class="qname" start="39" select="quick">db:sect4</span><span class="op" start="47">|</span><span class="qname" start="48" select="quick">db:sect5</span><span class="z">"</span><span class="z"> 
                            </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:autonumbered</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1612"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1616"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}label-this-section" class="solar"><span class="function" start="1" pair-end="23" select="quick">f:label-this-section</span></a><span class="parenthesis">(</span><span class="context" start="22">.</span><span class="parenthesis" start="23">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1631" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1633"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">0</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1639" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1643" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1647" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1649"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:question</span><span class="op" start="12">|</span><span class="qname" start="13" select="quick">db:answer</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:autonumbered</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1667"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1671"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?qanda.defaultlabel" class="solar"><span class="variable" start="1" select="quick">$qanda.defaultlabel</span></a><span class="whitespace" start="20"> </span><span class="op" start="21">=</span><span class="whitespace" start="22"> </span><span class="op">'</span><span class="literal" start="23">number</span><span class="op">'</span><span class="whitespace" start="31">
                                    </span><span class="op" start="52">and</span><span class="whitespace" start="55"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="56" pair-end="68" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="60" select="quick">db:label</span><span class="parenthesis" start="68">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1694"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">1</span><span class="op">'</span><span class="z">"</span><span id="wx1704" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1708" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1710"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1714"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">0</span><span class="op">'</span><span class="z">"</span><span id="wx1724" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1728" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1732" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1736" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1738"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:bridgehead</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:autonumbered</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1754"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1758"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?autolabel.elements" class="solar"><span class="variable" start="1" select="quick">$autolabel.elements</span></a><span class="step" start="20">/</span><span class="qname" start="21" select="quick">db:section</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1772" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1774"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">0</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1780" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1784" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1788" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1794"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-title-markup</span><span class="z">"</span><span class="z">
          	  </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1810"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for formatting object titles</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1816" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1818"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1822"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to format object titles.
Any element processed in this mode should return its formatted title.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx1828" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx1832" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx1836" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1838"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-title-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w1854"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?allow-anchors">allow-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx1876" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w1878"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?template">template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1888"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-title-template</span><span class="z">"</span><span id="wx1902" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1906" class="ec">&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm">
  &lt;xsl:message&gt;object title markup for &lt;xsl:value-of select="name(.)"/&gt;&lt;/xsl:message&gt;
  &lt;xsl:message&gt;&lt;xsl:value-of select="$template"/&gt;&lt;/xsl:message&gt;
  </span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w1912"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/gentext.xsl.html#t?substitute-markup" class="solar"><span class="tcall">substitute-markup</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1922"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">allow-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$allow-anchors</span><span class="z">"</span><span id="wx1936" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1938"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">template</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$template</span><span class="z">"</span><span id="wx1952" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1956" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1960" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w1966"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-titleabbrev-markup</span><span class="z">"</span><span class="z">
          	  </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1982"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for formatting the abbreviated title of an element</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx1988" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w1990"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w1994"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to format abbreviated titles.
Any element processed in this mode should return a formatted
rendition of its abbreviated title.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2000" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2004" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx2008" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2010"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-titleabbrev-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2026"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?allow-anchors">allow-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx2048" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> Just for consistency in template naming </span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w2054"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:titleabbrev-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2070"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">allow-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$allow-anchors</span><span class="z">"</span><span id="wx2084" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2088" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2092" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2098"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-subtitle-markup</span><span class="z">"</span><span class="z">
          	  </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2114"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for formatting the subtitle of an element</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2120" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2122"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2126"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to format subtitles.
Any element processed in this mode should return a formatted
rendition of its subtitle.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2132" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2136" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx2140" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2142"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-subtitle-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2158"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?template">template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2168"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-subtitle-template</span><span class="z">"</span><span id="wx2182" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx2186" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2188"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/gentext.xsl.html#t?substitute-markup" class="solar"><span class="tcall">substitute-markup</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2198"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">template</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$template</span><span class="z">"</span><span id="wx2212" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2216" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2220" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2226"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-xref-markup</span><span class="z">"</span><span class="z">
          	  </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2242"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for formatting cross-references to an element</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2248" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2250"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2254"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to format cross-references.
Any element processed in this mode should return a formatted
rendition of a cross-reference to itself.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2260" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2264" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx2268" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2270"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-xref-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2286"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?purpose">purpose</span><span class="z">"</span><span id="wx2294" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2296"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?xrefstyle">xrefstyle</span><span class="z">"</span><span id="wx2304" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2306"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?referrer">referrer</span><span class="z">"</span><span id="wx2314" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2316"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?verbose">verbose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">1</span><span class="z">"</span><span id="wx2330" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2332"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?template">template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2342"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2346"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-starts-with" class="solar"><span class="function" start="1" pair-end="51" select="quick">starts-with</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="13" pair-end="39" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="variable" start="29" select="quick">$xrefstyle</span><span class="parenthesis" start="39">)</span><span class="op" start="40">,</span><span class="whitespace" start="41"> </span><span class="op">'</span><span class="literal" start="42">select:</span><span class="op">'</span><span class="parenthesis" start="51">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2367"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/gentext.xsl.html#t?make-gentext-template" class="solar"><span class="tcall">make-gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2377"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx2391" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2393"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx2407" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2409"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">referrer</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referrer</span><span class="z">"</span><span id="wx2423" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2427" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2431" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2433"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-starts-with" class="solar"><span class="function" start="1" pair-end="53" select="quick">starts-with</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="13" pair-end="39" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="variable" start="29" select="quick">$xrefstyle</span><span class="parenthesis" start="39">)</span><span class="op" start="40">,</span><span class="whitespace" start="41"> </span><span class="op">'</span><span class="literal" start="42">template:</span><span class="op">'</span><span class="parenthesis" start="53">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2454"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="1" pair-end="57" select="quick">substring-after</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="17" pair-end="43" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="variable" start="33" select="quick">$xrefstyle</span><span class="parenthesis" start="43">)</span><span class="op" start="44">,</span><span class="whitespace" start="45"> </span><span class="op">'</span><span class="literal" start="46">template:</span><span class="op">'</span><span class="parenthesis" start="57">)</span><span class="z">"</span><span id="wx2473" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2477" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2479"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2483"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-xref-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2499"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx2513" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2515"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx2529" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w2531"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">referrer</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referrer</span><span class="z">"</span><span id="wx2545" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2549" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2553" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2557" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx2561" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2563"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$template</span><span class="whitespace" start="10"> </span><span class="op" start="11">=</span><span class="whitespace" start="12"> </span><span class="op">'</span><span class="literal" start="13"></span><span class="op">'</span><span class="whitespace" start="15"> </span><span class="op" start="16">and</span><span class="whitespace" start="19"> </span><span class="variable" start="20" select="quick">$verbose</span><span class="whitespace" start="28"> </span><span class="op" start="29">!=</span><span class="whitespace" start="31"> </span><span class="numeric" start="32">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2587"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2591"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">object-xref-markup: empty xref template</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2597" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2599"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> for linkend="</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2605" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2607"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">xml:id</span><span class="z">"</span><span id="wx2616" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2618"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">" and @xrefstyle="</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2624" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2626"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx2634" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2636"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">"</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2642" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx2646" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2650" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2652"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/gentext.xsl.html#t?substitute-markup" class="solar"><span class="tcall">substitute-markup</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2662"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx2676" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2678"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx2692" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2694"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">referrer</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referrer</span><span class="z">"</span><span id="wx2708" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2710"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">template</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$template</span><span class="z">"</span><span id="wx2724" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2726"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">verbose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$verbose</span><span class="z">"</span><span id="wx2740" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2744" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2748" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2750"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:listitem</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-xref-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2766"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?verbose">verbose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">1</span><span class="z">"</span><span id="wx2780" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2782"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2786"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">parent::</span><span class="qname" start="9" select="quick">db:orderedlist</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2797"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?template">template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2807"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-xref-template</span><span class="z">"</span><span id="wx2821" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx2825" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2827"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/gentext.xsl.html#t?substitute-markup" class="solar"><span class="tcall">substitute-markup</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2837"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">template</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$template</span><span class="z">"</span><span id="wx2851" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2855" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2859" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2861"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$verbose</span><span class="whitespace" start="9"> </span><span class="op" start="10">!=</span><span class="whitespace" start="12"> </span><span class="numeric" start="13">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2875"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2879"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Xref is only supported to listitems in an</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2885" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w2887"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> orderedlist: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2893" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w2895"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">xml:id</span><span class="z">"</span><span id="wx2904" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx2908" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2910"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">???</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2916" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2920" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2924" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2928" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2930"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:question</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-xref-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2946"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?purpose">purpose</span><span class="z">"</span><span id="wx2954" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2956"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?xrefstyle">xrefstyle</span><span class="z">"</span><span id="wx2964" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w2966"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?referrer">referrer</span><span class="z">"</span><span id="wx2974" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2976"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?deflabel">deflabel</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2986"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2990"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">ancestor-or-self::</span><span class="qname" start="19" select="quick">*</span><span class="filter" start="20" pair-end="34" select="quick">[</span><span class="axis" start="21">@</span><span class="qname" start="22" select="quick">defaultlabel</span><span class="filter" start="34">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3005"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="36" select="quick">(</span><span class="axis" start="2">ancestor-or-self::</span><span class="qname" start="20" select="quick">*</span><span class="filter" start="21" pair-end="35" select="quick">[</span><span class="axis" start="22">@</span><span class="qname" start="23" select="quick">defaultlabel</span><span class="filter" start="35">]</span><span class="parenthesis" start="36">)</span><span class="filter" start="37" pair-end="44" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-last" class="solar"><span class="function" start="38" pair-end="43" select="quick">last</span></a><span class="parenthesis">(</span><span class="parenthesis" start="43">)</span><span class="filter" start="44">]</span><span class="whitespace" start="45">
                                                    </span><span class="step" start="76">/</span><span class="axis" start="77">@</span><span class="qname" start="78" select="quick">defaultlabel</span><span class="z">"</span><span id="wx3029" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3033" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3035"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3039"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?qanda.defaultlabel" class="solar"><span class="variable" start="1" select="quick">$qanda.defaultlabel</span></a><span class="z">"</span><span id="wx3047" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3051" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3055" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx3059" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3061"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?template">template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3071"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="z">&lt;!--</span><span class="cm"> This avoids double Q: Q: in xref when defaultlabel=qanda </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w3079"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$deflabel</span><span class="whitespace" start="10"> </span><span class="op" start="11">=</span><span class="whitespace" start="12"> </span><span class="op">'</span><span class="literal" start="13">qanda</span><span class="op">'</span><span class="whitespace" start="20"> </span><span class="op" start="21">and</span><span class="whitespace" start="24"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="25" pair-end="34" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="29" select="quick">label</span><span class="parenthesis" start="34">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">%n</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3104" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3106"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3110"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-xref-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3126"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx3140" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3142"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx3156" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w3158"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">referrer</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referrer</span><span class="z">"</span><span id="wx3172" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx3176" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3180" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3184" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx3188" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3190"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/gentext.xsl.html#t?substitute-markup" class="solar"><span class="tcall">substitute-markup</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3200"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx3214" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3216"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx3230" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3232"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">referrer</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referrer</span><span class="z">"</span><span id="wx3246" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3248"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">template</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$template</span><span class="z">"</span><span id="wx3262" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3266" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3270" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3276"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">substitute-markup</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3292"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Expands %d, %n, %o, %p, %s, and %t in generated text
templates</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx3298" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3300"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3304"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template expands percent-encoded variables in a generated
text template. The content of the template is passed through unchanged,
except that:</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3310" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3312"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3316"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3320"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">%d</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3326" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3328"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3332"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">is replaced by the direction (above or below) that a referent is
from the current context node.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3338" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3342" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3346" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3348"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3352"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">%n</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3358" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3360"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3364"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">is replaced by the number (label) of the context node.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3370" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3374" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3378" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3380"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3384"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">%o</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3390" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3392"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3396"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">is replaced by the </span><span class="ww" id="w3400"><span class="es">&lt;</span><span class="en">tag</span><span class="scx">&gt;</span><span class="txt">olink</span><span class="ez">&lt;/</span><span class="cl">tag</span><span id="wx3406" class="ec">&gt;</span></span><span class="txt"> document title.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3410" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3414" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3418" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3420"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3424"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">%p</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3430" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3432"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3436"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">is replaced by the page number of the referent.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3442" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3446" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3450" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3452"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3456"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">%s</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3462" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3464"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3468"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">is replaced by the subtitle of the context node.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3474" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3478" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3482" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3484"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3488"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">%t</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3494" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3496"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3500"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">is replaced by the title of the context node.
</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3506" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3510" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3514" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx3518" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3520"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Note that several of these only make sense in the context of
a cross-reference.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3526" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx3530" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3532"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3536"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3540"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3544"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">template</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3550" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3552"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3556"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The template to expand.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3562" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3566" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3570" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3572"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3576"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">allow-anchors</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3582" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3584"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3588"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">Non-zero if anchors are allowed (I think this is deprecated).</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3594" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3598" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3602" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3604"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3608"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">title</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3614" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3616"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3620"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The title of the context node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3626" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3630" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3634" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3636"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3640"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">subtitle</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3646" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3648"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3652"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The subtitle of the context node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3658" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3662" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3666" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3668"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3672"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">docname</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3678" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3680"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3684"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">???</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3690" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3694" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3698" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3700"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3704"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">label</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3710" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3712"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3716"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The label of the context node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3722" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3726" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3730" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3732"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3736"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">pagenumber</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3742" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3744"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3748"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The page number of the context node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3754" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3758" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3762" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3764"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3768"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">purpose</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3774" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3776"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3780"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3786" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3790" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3794" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3796"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3800"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">xrefstyle</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3806" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3808"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3812"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3818" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3822" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3826" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3828"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3832"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">referrer</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3838" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3840"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3844"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3850" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3854" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3858" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3860"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3864"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">verbose</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3870" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3872"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3876"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3882" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3886" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3890" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx3894" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx3898" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3900"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3904"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The expanded template.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3910" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx3914" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx3918" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3920"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?substitute-markup">substitute-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3930"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?template">template</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx3946" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3948"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?allow-anchors">allow-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-false" class="solar"><span class="function" start="1" pair-end="7" select="quick">false</span></a><span class="parenthesis">(</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx3970" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3972"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?title">title</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx3988" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3990"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?subtitle">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx4006" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4008"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?docname">docname</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx4024" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4026"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?label">label</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx4042" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4044"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?pagenumber">pagenumber</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx4060" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4062"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?purpose">purpose</span><span class="z">"</span><span id="wx4070" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4072"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?xrefstyle">xrefstyle</span><span class="z">"</span><span id="wx4080" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4082"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?referrer">referrer</span><span class="z">"</span><span id="wx4090" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4092"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?verbose">verbose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">0</span><span class="z">"</span><span id="wx4106" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w4108"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4112"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="24" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$template</span><span class="op" start="19">,</span><span class="whitespace" start="20"> </span><span class="op">'</span><span class="literal" start="21">%</span><span class="op">'</span><span class="parenthesis" start="24">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4130"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="1" pair-end="32" select="quick">substring-before</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$template</span><span class="op" start="27">,</span><span class="whitespace" start="28"> </span><span class="op">'</span><span class="literal" start="29">%</span><span class="op">'</span><span class="parenthesis" start="32">)</span><span class="z">"</span><span id="wx4146" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4148"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?candidate">candidate</span><span class="z">"</span><span class="z">
                           </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring" class="solar"><span class="function" start="1" pair-end="48" select="quick">substring</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="11" pair-end="41" select="quick">substring-after</span></a><span class="parenthesis">(</span><span class="variable" start="27" select="quick">$template</span><span class="op" start="36">,</span><span class="whitespace" start="37"> </span><span class="op">'</span><span class="literal" start="38">%</span><span class="op">'</span><span class="parenthesis" start="41">)</span><span class="op" start="42">,</span><span class="whitespace" start="43"> </span><span class="numeric" start="44">1</span><span class="op" start="45">,</span><span class="whitespace" start="46"> </span><span class="numeric" start="47">1</span><span class="parenthesis" start="48">)</span><span class="z">"</span><span id="wx4179" class="sc">/&gt;</span></span><span class="txt">

      </span><span class="z">&lt;!--</span><span class="cm">
      &lt;xsl:comment&gt;candidate: &lt;xsl:value-of select="$candidate"/&gt;&lt;/xsl:comment&gt;
      </span><span class="z">--&gt;</span><span class="txt">

      </span><span class="ww" id="w4185"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4189"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$candidate</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">t</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4205"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:insert-title-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w4221"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx4235" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w4237"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx4251" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w4253"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w4263"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w4267"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$title</span><span class="whitespace" start="7"> </span><span class="op" start="8">!=</span><span class="whitespace" start="10"> </span><span class="op">'</span><span class="literal" start="11"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w4283"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$title</span><span class="z">"</span><span id="wx4291" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4295" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w4297"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w4301"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:title-content</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
		    </span><span class="ww" id="w4317"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">allow-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$allow-anchors</span><span class="z">"</span><span id="wx4331" class="sc">/&gt;</span></span><span class="txt">
		    </span><span class="ww" id="w4333"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">verbose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$verbose</span><span class="z">"</span><span id="wx4347" class="sc">/&gt;</span></span><span class="txt">
                    </span><span class="ww" id="w4349"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">template</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">%t</span><span class="op">'</span><span class="z">"</span><span id="wx4365" class="sc">/&gt;</span></span><span class="txt">
                  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx4369" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx4373" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx4377" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx4381" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx4385" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4389" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4391"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$candidate</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">s</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4407"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:insert-subtitle-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w4423"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx4437" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w4439"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx4453" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w4455"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">subtitle</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w4465"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w4469"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$subtitle</span><span class="whitespace" start="10"> </span><span class="op" start="11">!=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w4485"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$subtitle</span><span class="z">"</span><span id="wx4493" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4497" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w4499"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w4503"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:subtitle.markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                    </span><span class="ww" id="w4519"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">allow-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$allow-anchors</span><span class="z">"</span><span id="wx4533" class="sc">/&gt;</span></span><span class="txt">
                  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx4537" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx4541" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx4545" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx4549" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx4553" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4557" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4559"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$candidate</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">n</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4575"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:insert-label-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w4591"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx4605" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w4607"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx4621" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w4623"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">label</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w4633"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w4637"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$label</span><span class="whitespace" start="7"> </span><span class="op" start="8">!=</span><span class="whitespace" start="10"> </span><span class="op">'</span><span class="literal" start="11"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w4653"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$label</span><span class="z">"</span><span id="wx4661" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4665" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w4667"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                   </span><span class="ww" id="w4671"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:label-content</span><span class="z">"</span><span id="wx4685" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx4689" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx4693" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx4697" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx4701" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4705" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4707"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$candidate</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">p</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w4723"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:insert-pagenumber-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w4739"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx4753" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w4755"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx4769" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w4771"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">pagenumber</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w4781"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w4785"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pagenumber</span><span class="whitespace" start="12"> </span><span class="op" start="13">!=</span><span class="whitespace" start="15"> </span><span class="op">'</span><span class="literal" start="16"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w4801"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pagenumber</span><span class="z">"</span><span id="wx4809" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4813" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w4815"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w4819"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:pagenumber.markup</span><span class="z">"</span><span id="wx4833" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx4837" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx4841" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx4845" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx4849" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4853" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4855"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$candidate</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">o</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="z">&lt;!--</span><span class="cm"> olink target document title </span><span class="z">--&gt;</span><span class="txt">
          </span><span class="ww" id="w4875"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:insert-olink-docname-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w4891"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx4905" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w4907"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx4921" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w4923"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">docname</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w4933"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w4937"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$docname</span><span class="whitespace" start="9"> </span><span class="op" start="10">!=</span><span class="whitespace" start="12"> </span><span class="op">'</span><span class="literal" start="13"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w4953"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$docname</span><span class="z">"</span><span id="wx4961" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4965" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w4967"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w4971"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:olink.docname.markup</span><span class="z">"</span><span id="wx4985" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx4989" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx4993" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx4997" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx5001" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5005" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5007"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$candidate</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">d</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w5023"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:insert-direction-markup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w5039"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx5053" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w5055"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx5069" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w5071"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">direction</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w5081"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w5085"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referrer</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w5095"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?referent-is-below">referent-is-below</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                    </span><span class="ww" id="w5105"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">preceding::</span><span class="qname" start="12" select="quick">xref</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                      </span><span class="ww" id="w5116"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-generate-id" class="solar"><span class="function" start="1" pair-end="14" select="quick">generate-id</span></a><span class="parenthesis">(</span><span class="context" start="13">.</span><span class="parenthesis" start="14">)</span><span class="whitespace" start="15"> </span><span class="op" start="16">=</span><span class="whitespace" start="17"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-generate-id" class="solar"><span class="function" start="18" pair-end="39" select="quick">generate-id</span></a><span class="parenthesis">(</span><span class="variable" start="30" select="quick">$referrer</span><span class="parenthesis" start="39">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">1</span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx5138" class="ec">&gt;</span></span><span class="txt">
                    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx5142" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx5146" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ww" id="w5148"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
                    </span><span class="ww" id="w5152"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referent-is-below</span><span class="whitespace" start="19"> </span><span class="op" start="20">=</span><span class="whitespace" start="21"> </span><span class="op">'</span><span class="literal" start="22"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                      </span><span class="ww" id="w5168"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext" class="solar"><span class="tcall">gentext</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                        </span><span class="ww" id="w5178"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">key</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">above</span><span class="op">'</span><span class="z">"</span><span id="wx5194" class="sc">/&gt;</span></span><span class="txt">
                      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5198" class="ec">&gt;</span></span><span class="txt">
                    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5202" class="ec">&gt;</span></span><span class="txt">
                    </span><span class="ww" id="w5204"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                      </span><span class="ww" id="w5208"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext" class="solar"><span class="tcall">gentext</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                        </span><span class="ww" id="w5218"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">key</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">below</span><span class="op">'</span><span class="z">"</span><span id="wx5234" class="sc">/&gt;</span></span><span class="txt">
                      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5238" class="ec">&gt;</span></span><span class="txt">
                    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx5242" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx5246" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5250" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w5252"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w5256"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">Attempt to use %d in gentext with no referrer!</span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx5262" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx5266" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx5270" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx5274" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx5278" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5282" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5284"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$candidate</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">%</span><span class="op">'</span><span class="whitespace" start="17"> </span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w5301"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">%</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5307" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5311" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5313"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w5317"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">%</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5323" class="ec">&gt;</span></span><span class="txt"></span><span class="ww" id="w5325"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$candidate</span><span class="z">"</span><span id="wx5333" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx5337" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx5341" class="ec">&gt;</span></span><span class="txt">

      </span><span class="z">&lt;!--</span><span class="cm">
      &lt;xsl:comment&gt;end candidate: &lt;xsl:value-of select="$candidate"/&gt;&lt;/xsl:comment&gt;
      </span><span class="z">--&gt;</span><span class="txt">

      </span><span class="z">&lt;!--</span><span class="cm"> recurse with the rest of the template string </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w5351"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?rest">rest</span><span class="z">"</span><span class="z">
                          </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring" class="solar"><span class="function" start="1" pair-end="83" select="quick">substring</span></a><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$template</span><span class="op" start="20">,</span><span class="whitespace" start="21">
                                  </span><a href="http://www.w3.org/TR/xpath-functions/#func-string-length" class="solar"><span class="function" start="34" pair-end="80" select="quick">string-length</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function" start="48" pair-end="79" select="quick">substring-before</span></a><span class="parenthesis">(</span><span class="variable" start="65" select="quick">$template</span><span class="op" start="74">,</span><span class="whitespace" start="75"> </span><span class="op">'</span><span class="literal" start="76">%</span><span class="op">'</span><span class="parenthesis" start="79">)</span><span class="parenthesis" start="80">)</span><span class="quantifier" start="81">+</span><span class="numeric" start="82">3</span><span class="parenthesis" start="83">)</span><span class="z">"</span><span id="wx5384" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w5386"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/gentext.xsl.html#t?substitute-markup" class="solar"><span class="tcall">substitute-markup</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5396"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">template</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$rest</span><span class="z">"</span><span id="wx5410" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5412"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">allow-anchors</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$allow-anchors</span><span class="z">"</span><span id="wx5426" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5428"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">title</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$title</span><span class="z">"</span><span id="wx5442" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5444"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">subtitle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$subtitle</span><span class="z">"</span><span id="wx5458" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5460"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">docname</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$docname</span><span class="z">"</span><span id="wx5474" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5476"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">label</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$label</span><span class="z">"</span><span id="wx5490" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5492"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">pagenumber</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pagenumber</span><span class="z">"</span><span id="wx5506" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5508"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx5522" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5524"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx5538" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5540"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">referrer</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referrer</span><span class="z">"</span><span id="wx5554" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5556"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">verbose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$verbose</span><span class="z">"</span><span id="wx5570" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx5574" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx5578" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w5580"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5584"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$template</span><span class="z">"</span><span id="wx5592" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx5596" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx5600" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5604" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w5610"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">make-gentext-template</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5626"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">???</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx5632" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w5634"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5638"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">What does this do?</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx5644" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx5648" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w5650"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5654"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5658"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w5662"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">target.elem</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx5668" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w5670"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5674"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The name of the target element,
defaults to the name of the context-node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx5680" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx5684" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx5688" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w5690"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w5694"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">lang</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx5700" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w5702"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5706"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The language to use,
defaults to the language of the context node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx5712" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx5716" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx5720" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w5722"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w5726"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">purpose</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx5732" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w5734"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5738"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx5744" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx5748" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx5752" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w5754"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w5758"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">xrefstyle</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx5764" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w5766"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5770"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx5776" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx5780" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx5784" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w5786"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w5790"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">referrer</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx5796" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w5798"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5802"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">T.B.D.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx5808" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx5812" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx5816" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx5820" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx5824" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w5826"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5830"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The template?</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx5836" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx5840" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx5844" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w5846"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?make-gentext-template">make-gentext-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w5856"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?xrefstyle">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1"></span><span class="op">'</span><span class="z">"</span><span id="wx5872" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w5874"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?purpose">purpose</span><span class="z">"</span><span id="wx5882" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w5884"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?referrer">referrer</span><span class="z">"</span><span id="wx5892" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w5894"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?lang">lang</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#f?{http://docbook.org/xslt/ns/extension}l10n-language" class="solar"><span class="function" start="1" pair-end="18" select="quick">f:l10n-language</span></a><span class="parenthesis">(</span><span class="context" start="17">.</span><span class="parenthesis" start="18">)</span><span class="z">"</span><span id="wx5911" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w5913"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?target.elem">target.elem</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="z">"</span><span id="wx5930" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> parse xrefstyle to get parts </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ww" id="w5936"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?parts">parts</span><span class="z">"</span><span class="z">
                    </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function" start="1" pair-end="55" select="quick">substring-after</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-normalize-space" class="solar"><span class="function" start="17" pair-end="43" select="quick">normalize-space</span></a><span class="parenthesis">(</span><span class="variable" start="33" select="quick">$xrefstyle</span><span class="parenthesis" start="43">)</span><span class="op" start="44">,</span><span class="whitespace" start="45"> </span><span class="op">'</span><span class="literal" start="46">select:</span><span class="op">'</span><span class="parenthesis" start="55">)</span><span class="z">"</span><span id="wx5961" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w5963"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?labeltype">labeltype</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5973"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5977"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="31" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">labelnumber</span><span class="op">'</span><span class="parenthesis" start="31">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w5995"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">labelnumber</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6001" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6005" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6007"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="29" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">labelname</span><span class="op">'</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6025"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">labelname</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6031" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6035" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6037"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="25" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">label</span><span class="op">'</span><span class="parenthesis" start="25">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6055"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">label</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6061" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6065" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6069" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx6073" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w6075"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?titletype">titletype</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6085"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6089"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="31" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">quotedtitle</span><span class="op">'</span><span class="parenthesis" start="31">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6107"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">quotedtitle</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6113" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6117" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6119"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="25" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">title</span><span class="op">'</span><span class="parenthesis" start="25">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6137"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">title</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6143" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6147" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6151" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx6155" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w6157"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?pagetype">pagetype</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6167"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6171"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?olink.insert.page.number" class="solar"><span class="variable" start="1" select="quick">$olink.insert.page.number</span></a><span class="whitespace" start="26"> </span><span class="op" start="27">=</span><span class="whitespace" start="28"> </span><span class="numeric" start="29">0</span><span class="whitespace" start="30">
                                      </span><span class="op" start="53">and</span><span class="whitespace" start="56"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="57" pair-end="77" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="68" select="quick">$referrer</span><span class="parenthesis" start="77">)</span><span class="whitespace" start="78"> </span><span class="op" start="79">=</span><span class="whitespace" start="80"> </span><span class="op">'</span><span class="literal" start="81">olink</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="z">&lt;!--</span><span class="cm"> suppress page numbers </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6204" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6206"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?insert.xref.page.number" class="solar"><span class="variable" start="1" select="quick">$insert.xref.page.number</span></a><span class="whitespace" start="25"> </span><span class="op" start="26">=</span><span class="whitespace" start="27"> </span><span class="op">'</span><span class="literal" start="28">no</span><span class="op">'</span><span class="whitespace" start="32">
                                      </span><span class="op" start="55">and</span><span class="whitespace" start="58"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="59" pair-end="79" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="70" select="quick">$referrer</span><span class="parenthesis" start="79">)</span><span class="whitespace" start="80"> </span><span class="op" start="81">!=</span><span class="whitespace" start="83"> </span><span class="op">'</span><span class="literal" start="84">olink</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="z">&lt;!--</span><span class="cm"> suppress page numbers </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6241" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6243"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="26" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">nopage</span><span class="op">'</span><span class="parenthesis" start="26">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6261"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">nopage</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6267" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6271" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6273"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="30" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">pagenumber</span><span class="op">'</span><span class="parenthesis" start="30">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6291"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">pagenumber</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6297" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6301" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6303"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="30" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">pageabbrev</span><span class="op">'</span><span class="parenthesis" start="30">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6321"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">pageabbrev</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6327" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6331" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6333"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="24" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">Page</span><span class="op">'</span><span class="parenthesis" start="24">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6351"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Page</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6357" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6361" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6363"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="24" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">page</span><span class="op">'</span><span class="parenthesis" start="24">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6381"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">page</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6387" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6391" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6395" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx6399" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w6401"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?docnametype">docnametype</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6411"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6415"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?olink.doctitle" class="solar"><span class="variable" start="1" select="quick">$olink.doctitle</span></a><span class="whitespace" start="16"> </span><span class="op" start="17">=</span><span class="whitespace" start="18"> </span><span class="numeric" start="19">0</span><span class="whitespace" start="20">
                                      </span><span class="op" start="43">and</span><span class="whitespace" start="46"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="47" pair-end="67" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="58" select="quick">$referrer</span><span class="parenthesis" start="67">)</span><span class="whitespace" start="68"> </span><span class="op" start="69">=</span><span class="whitespace" start="70"> </span><span class="op">'</span><span class="literal" start="71">olink</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="z">&lt;!--</span><span class="cm"> suppress docname </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6448" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6450"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="29" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">nodocname</span><span class="op">'</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6468"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">nodocname</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6474" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6478" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6480"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="31" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">docnamelong</span><span class="op">'</span><span class="parenthesis" start="31">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6498"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">docnamelong</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6504" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6508" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6510"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-contains" class="solar"><span class="function" start="1" pair-end="27" select="quick">contains</span></a><span class="parenthesis">(</span><span class="variable" start="10" select="quick">$parts</span><span class="op" start="16">,</span><span class="whitespace" start="17"> </span><span class="op">'</span><span class="literal" start="18">docname</span><span class="op">'</span><span class="parenthesis" start="27">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
         </span><span class="ww" id="w6528"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">docname</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6534" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6538" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6542" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx6546" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w6548"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$labeltype</span><span class="whitespace" start="11"> </span><span class="op" start="12">!=</span><span class="whitespace" start="14"> </span><span class="op">'</span><span class="literal" start="15"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6564"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6568"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$labeltype</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">labelname</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6584"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext" class="solar"><span class="tcall">gentext</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6594"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">key</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w6604"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w6608"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="21" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$referrer</span><span class="parenthesis" start="21">)</span><span class="whitespace" start="22"> </span><span class="op" start="23">=</span><span class="whitespace" start="24"> </span><span class="op">'</span><span class="literal" start="25">olink</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w6627"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target.elem</span><span class="z">"</span><span id="wx6635" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6639" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w6641"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w6645"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="z">"</span><span id="wx6656" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6660" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6664" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx6668" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx6672" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6676" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6678"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$labeltype</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">labelnumber</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6694"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">%n</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx6700" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6704" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6706"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$labeltype</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">label</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6722"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w6732"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref-number</span><span class="op">'</span><span class="z">"</span><span id="wx6748" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w6750"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w6760"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w6764"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="21" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$referrer</span><span class="parenthesis" start="21">)</span><span class="whitespace" start="22"> </span><span class="op" start="23">=</span><span class="whitespace" start="24"> </span><span class="op">'</span><span class="literal" start="25">olink</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w6783"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target.elem</span><span class="z">"</span><span id="wx6791" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6795" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w6797"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
		</span><span class="ww" id="w6801"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}xpath-location" class="solar"><span class="function" start="1" pair-end="19" select="quick">f:xpath-location</span></a><span class="parenthesis">(</span><span class="context" start="18">.</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx6812" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx6816" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6820" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx6824" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w6826"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx6840" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w6842"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx6856" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w6858"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">referrer</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referrer</span><span class="z">"</span><span id="wx6872" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx6876" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6880" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6884" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w6886"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6890"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$titletype</span><span class="whitespace" start="11"> </span><span class="op" start="12">!=</span><span class="whitespace" start="14"> </span><span class="op">'</span><span class="literal" start="15"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6906"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?xref.label-title.separator" class="solar"><span class="variable" start="1" select="quick">$xref.label-title.separator</span></a><span class="z">"</span><span id="wx6914" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6918" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w6920"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pagetype</span><span class="whitespace" start="10"> </span><span class="op" start="11">!=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6936"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?xref.label-page.separator" class="solar"><span class="variable" start="1" select="quick">$xref.label-page.separator</span></a><span class="z">"</span><span id="wx6944" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx6948" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx6952" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx6956" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w6958"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$titletype</span><span class="whitespace" start="11"> </span><span class="op" start="12">!=</span><span class="whitespace" start="14"> </span><span class="op">'</span><span class="literal" start="15"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w6974"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w6978"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$titletype</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">title</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w6994"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">%t</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7000" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7004" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w7006"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$titletype</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">quotedtitle</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w7022"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-dingbat" class="solar"><span class="tcall">gentext-dingbat</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w7032"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">dingbat</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">startquote</span><span class="op">'</span><span class="z">"</span><span id="wx7048" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx7052" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w7054"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">%t</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7060" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w7062"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-dingbat" class="solar"><span class="tcall">gentext-dingbat</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w7072"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">dingbat</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">endquote</span><span class="op">'</span><span class="z">"</span><span id="wx7088" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx7092" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7096" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx7100" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w7102"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7106"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pagetype</span><span class="whitespace" start="10"> </span><span class="op" start="11">!=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14"></span><span class="op">'</span><span class="whitespace" start="16"> </span><span class="op" start="17">and</span><span class="whitespace" start="20"> </span><span class="variable" start="21" select="quick">$pagetype</span><span class="whitespace" start="30"> </span><span class="op" start="31">!=</span><span class="whitespace" start="33"> </span><span class="op">'</span><span class="literal" start="34">nopage</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w7132"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?xref.title-page.separator" class="solar"><span class="variable" start="1" select="quick">$xref.title-page.separator</span></a><span class="z">"</span><span id="wx7140" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7144" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx7148" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx7152" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> special case: use regular xref template if just turning off page </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ww" id="w7158"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="52" select="quick">(</span><span class="variable" start="2" select="quick">$pagetype</span><span class="whitespace" start="11"> </span><span class="op" start="12">=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14">nopage</span><span class="op">'</span><span class="whitespace" start="22"> </span><span class="op" start="23">or</span><span class="whitespace" start="25"> </span><span class="variable" start="26" select="quick">$docnametype</span><span class="whitespace" start="38"> </span><span class="op" start="39">=</span><span class="whitespace" start="40"> </span><span class="op">'</span><span class="literal" start="41">nodocname</span><span class="op">'</span><span class="parenthesis" start="52">)</span><span class="whitespace" start="53">
                                </span><span class="op" start="72">and</span><span class="whitespace" start="75"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="76" pair-end="96" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="87" select="quick">$referrer</span><span class="parenthesis" start="96">)</span><span class="whitespace" start="97"> </span><span class="op" start="98">!=</span><span class="whitespace" start="100"> </span><span class="op">'</span><span class="literal" start="101">olink</span><span class="op">'</span><span class="whitespace" start="108">
                                </span><span class="op" start="127">and</span><span class="whitespace" start="130"> </span><span class="variable" start="131" select="quick">$labeltype</span><span class="whitespace" start="141"> </span><span class="op" start="142">=</span><span class="whitespace" start="143"> </span><span class="op">'</span><span class="literal" start="144"></span><span class="op">'</span><span class="whitespace" start="146"> 
                                </span><span class="op" start="166">and</span><span class="whitespace" start="169"> </span><span class="variable" start="170" select="quick">$titletype</span><span class="whitespace" start="180"> </span><span class="op" start="181">=</span><span class="whitespace" start="182"> </span><span class="op">'</span><span class="literal" start="183"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w7219"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:object-xref-template</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7235"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">purpose</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$purpose</span><span class="z">"</span><span id="wx7249" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w7251"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">xrefstyle</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$xrefstyle</span><span class="z">"</span><span id="wx7265" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w7267"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">referrer</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$referrer</span><span class="z">"</span><span id="wx7281" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx7285" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx7289" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w7291"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pagetype</span><span class="whitespace" start="10"> </span><span class="op" start="11">!=</span><span class="whitespace" start="13"> </span><span class="op">'</span><span class="literal" start="14"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w7307"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7311"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pagetype</span><span class="whitespace" start="10"> </span><span class="op" start="11">=</span><span class="whitespace" start="12"> </span><span class="op">'</span><span class="literal" start="13">page</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w7327"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w7337"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref</span><span class="op">'</span><span class="z">"</span><span id="wx7353" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w7355"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">page</span><span class="op">'</span><span class="z">"</span><span id="wx7371" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx7375" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7379" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w7381"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pagetype</span><span class="whitespace" start="10"> </span><span class="op" start="11">=</span><span class="whitespace" start="12"> </span><span class="op">'</span><span class="literal" start="13">Page</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w7397"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w7407"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref</span><span class="op">'</span><span class="z">"</span><span id="wx7423" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w7425"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">Page</span><span class="op">'</span><span class="z">"</span><span id="wx7441" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx7445" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7449" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w7451"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pagetype</span><span class="whitespace" start="10"> </span><span class="op" start="11">=</span><span class="whitespace" start="12"> </span><span class="op">'</span><span class="literal" start="13">pageabbrev</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w7467"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w7477"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref</span><span class="op">'</span><span class="z">"</span><span id="wx7493" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w7495"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">pageabbrev</span><span class="op">'</span><span class="z">"</span><span id="wx7511" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx7515" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7519" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w7521"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$pagetype</span><span class="whitespace" start="10"> </span><span class="op" start="11">=</span><span class="whitespace" start="12"> </span><span class="op">'</span><span class="literal" start="13">pagenumber</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w7537"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">%p</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx7543" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7547" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx7551" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx7555" class="ec">&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> Add reference to other document title </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ww" id="w7561"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$docnametype</span><span class="whitespace" start="13"> </span><span class="op" start="14">!=</span><span class="whitespace" start="16"> </span><span class="op">'</span><span class="literal" start="17"></span><span class="op">'</span><span class="whitespace" start="19"> </span><span class="op" start="20">and</span><span class="whitespace" start="23"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="24" pair-end="44" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="35" select="quick">$referrer</span><span class="parenthesis" start="44">)</span><span class="whitespace" start="45"> </span><span class="op" start="46">=</span><span class="whitespace" start="47"> </span><span class="op">'</span><span class="literal" start="48">olink</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> Any separator should be in the gentext template </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="ww" id="w7594"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w7598"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$docnametype</span><span class="whitespace" start="13"> </span><span class="op" start="14">=</span><span class="whitespace" start="15"> </span><span class="op">'</span><span class="literal" start="16">docnamelong</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w7614"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w7624"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref</span><span class="op">'</span><span class="z">"</span><span id="wx7640" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w7642"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">docnamelong</span><span class="op">'</span><span class="z">"</span><span id="wx7658" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx7662" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7666" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w7668"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$docnametype</span><span class="whitespace" start="13"> </span><span class="op" start="14">=</span><span class="whitespace" start="15"> </span><span class="op">'</span><span class="literal" start="16">docname</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w7684"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/l10n.xsl.html#t?gentext-template" class="solar"><span class="tcall">gentext-template</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w7694"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">context</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">xref</span><span class="op">'</span><span class="z">"</span><span id="wx7710" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w7712"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">docname</span><span class="op">'</span><span class="z">"</span><span id="wx7728" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx7732" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx7736" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx7740" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx7744" class="ec">&gt;</span></span><span class="txt">
  
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx7748" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx7752" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>