<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>table.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version="1.0" encoding="utf-8"</span><span class="z">?&gt;</span><span class="txt">
</span><span class="ww" id="w5"><span class="es">&lt;</span><span class="enxsl">xsl:stylesheet</span><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:db</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:doc</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/documentation/1.0</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:ghost</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook/ephemeral</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:h</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:m</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:t</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/template</span><span class="z">"</span><span class="z">
                                </span><span class="atn">xmlns:u</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/unittests#</span><span class="z">"</span><span class="z">
                		</span><span class="atn">xmlns:xs</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2001/XMLSchema</span><span class="z">"</span><span class="z">
                		</span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">db doc f ghost h m t u xs</span><span class="z">"</span><span class="z">
                                </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">

</span><span class="ww" id="w87"><span class="es">&lt;</span><span class="enxsl">xsl:include</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><a href="../common/table.xsl.html" class="solar"><span class="href">../common/table.xsl</span></a><span class="z">"</span><span id="wx95" class="sc">/&gt;</span></span><span class="txt">

</span><span class="ww" id="w97"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:table</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w107"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/formal.xsl.html#t?{http://docbook.org/xslt/ns/template}formal-object" class="solar"><span class="tcall">t:formal-object</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w117"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">placement</span><span class="z">"</span><span class="z">
                		    </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?formal.title.placement" class="solar"><span class="variable" start="1" select="quick">$formal.title.placement</span></a><span class="filter" start="24" pair-end="39" select="quick">[</span><span class="axis" start="25">self::</span><span class="qname" start="31" select="quick">db:table</span><span class="filter" start="39">]</span><span class="step" start="40">/</span><span class="axis" start="41">@</span><span class="qname" start="42" select="quick">placement</span><span class="z">"</span><span id="wx138" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w140"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="z">"</span><span id="wx157" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w159"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">longdesc</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:textobject</span><span class="filter" start="14" pair-end="29" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="15" pair-end="28" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="19" select="quick">db:phrase</span><span class="parenthesis" start="28">)</span><span class="filter" start="29">]</span><span class="z">"</span><span id="wx179" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w181"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">object</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w197"><span class="es">&lt;</span><span class="en">div</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="z">&lt;!--</span><span class="cm"> don't put the ID here, it'll be generated on the table </span><span class="z">--&gt;</span><span class="txt">
	</span><span class="ww" id="w216"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/html.xsl.html#t?class" class="solar"><span class="tcall">class</span></a><span class="z">"</span><span id="wx224" class="sc">/&gt;</span></span><span class="txt">

	</span><span class="ww" id="w226"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w230"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:tgroup</span><span class="op" start="10">|</span><span class="qname" start="11" select="quick">db:mediaobject</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w242"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:tgroup</span><span class="op" start="10">|</span><span class="qname" start="11" select="quick">db:mediaobject</span><span class="z">"</span><span id="wx252" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx256" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w258"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w262"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span id="wx276" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx280" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx284" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx288" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx292" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx296" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w298"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?{http://docbook.org/xslt/ns/template}table-longdesc" class="solar"><span class="tcall">t:table-longdesc</span></a><span class="z">"</span><span id="wx306" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx310" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w312"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:informaltable</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w322"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/formal.xsl.html#t?{http://docbook.org/xslt/ns/template}informal-object" class="solar"><span class="tcall">t:informal-object</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w332"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="z">"</span><span id="wx349" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w351"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">object</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w367"><span class="es">&lt;</span><span class="en">div</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="z">&lt;!--</span><span class="cm"> don't put the ID here, it'll be generated on the table </span><span class="z">--&gt;</span><span class="txt">
	</span><span class="ww" id="w386"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/html.xsl.html#t?class" class="solar"><span class="tcall">class</span></a><span class="z">"</span><span id="wx394" class="sc">/&gt;</span></span><span class="txt">

	</span><span class="ww" id="w396"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w400"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:tgroup</span><span class="op" start="10">|</span><span class="qname" start="11" select="quick">db:mediaobject</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w412"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:tgroup</span><span class="op" start="10">|</span><span class="qname" start="11" select="quick">db:mediaobject</span><span class="z">"</span><span id="wx422" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx426" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w428"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w432"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx450" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx454" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx458" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx462" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx466" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx470" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ww" id="w472"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?{http://docbook.org/xslt/ns/template}table-longdesc" class="solar"><span class="tcall">t:table-longdesc</span></a><span class="z">"</span><span id="wx480" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx484" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w486"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}table-longdesc">t:table-longdesc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w496"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?longdesc.uri">longdesc.uri</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/graphics.xsl.html#f?{http://docbook.org/xslt/ns/extension}longdesc-uri" class="solar"><span class="function" start="1" pair-end="17" select="quick">f:longdesc-uri</span></a><span class="parenthesis">(</span><span class="context" start="16">.</span><span class="parenthesis" start="17">)</span><span class="z">"</span><span id="wx513" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w515"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?html.longdesc" class="solar"><span class="variable" start="1" select="quick">$html.longdesc</span></a><span class="whitespace" start="15"> </span><span class="op" start="16">!=</span><span class="whitespace" start="18"> </span><span class="numeric" start="19">0</span><span class="whitespace" start="20"> </span><span class="op" start="21">and</span><span class="whitespace" start="24"> </span><a href="xslt/base/html/param.xsl.html#v?html.longdesc.link" class="solar"><span class="variable" start="25" select="quick">$html.longdesc.link</span></a><span class="whitespace" start="44"> </span><span class="op" start="45">!=</span><span class="whitespace" start="47"> </span><span class="numeric" start="48">0</span><span class="whitespace" start="49">
                              </span><span class="op" start="66">and</span><span class="whitespace" start="69"> </span><span class="qname" start="70" select="quick">db:textobject</span><span class="filter" start="83" pair-end="98" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="84" pair-end="97" select="quick">not</span></a><span class="parenthesis">(</span><span class="qname" start="88" select="quick">db:phrase</span><span class="parenthesis" start="97">)</span><span class="filter" start="98">]</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w547"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/graphics.xsl.html#t?{http://docbook.org/xslt/ns/template}write-longdesc" class="solar"><span class="tcall">t:write-longdesc</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w557"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">mediaobject</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx571" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx575" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx579" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx583" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">
</span><span class="z">&lt;!--</span><span class="cm"> CALS tables </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w593"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:tgroup</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w603"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="10" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="5">@</span><span class="qname" start="6" select="quick">cols</span><span class="parenthesis" start="10">)</span><span class="whitespace" start="11"> </span><span class="op" start="12">or</span><span class="whitespace" start="14"> </span><span class="axis" start="15">@</span><span class="qname" start="16" select="quick">cols</span><span class="whitespace" start="20"> </span><span class="op" start="21">=</span><span class="whitespace" start="22"> </span><span class="op">'</span><span class="literal" start="23"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w628"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="z"> </span><span class="atn">terminate</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w638"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Error: CALS tables must specify the number of columns.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx644" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx648" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx652" class="ec">&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> We start by normalizing the table, making all the columns, spans,
       etc. explicit. This vastly simplifies subsequent processing. But
       it introduces a problem, the normalized table is a different tree.
       That means that links to other parts of the real tree won't work.

       To resolve this problem, we carry the original table around and
       when it comes time to process the *content* of a table cell, we use
       the cell from the original tree.
  </span><span class="z">--&gt;</span><span class="txt">

  </span><span class="ww" id="w658"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?normalized">normalized</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w674"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals-phase-1</span><span class="z">"</span><span id="wx688" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx692" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w694"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$normalized</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w710"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx724" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx728" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx732" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w734"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:tgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/ns/docbook}tgroup">db:tgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w756"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?origtable">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span id="wx776" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w778"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?summary">summary</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}pi" class="solar"><span class="function" start="1" pair-end="54" select="quick">f:pi</span></a><span class="parenthesis">(</span><span class="node" start="6" pair-end="37" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="29">dbhtml</span><span class="op">'</span><span class="parenthesis" start="37">)</span><span class="op" start="38">,</span><span class="op">'</span><span class="literal" start="39">table-summary</span><span class="op">'</span><span class="parenthesis" start="54">)</span><span class="z">"</span><span id="wx804" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w806"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?cellspacing">cellspacing</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}pi" class="solar"><span class="function" start="1" pair-end="52" select="quick">f:pi</span></a><span class="parenthesis">(</span><span class="node" start="6" pair-end="37" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="29">dbhtml</span><span class="op">'</span><span class="parenthesis" start="37">)</span><span class="op" start="38">,</span><span class="op">'</span><span class="literal" start="39">cellspacing</span><span class="op">'</span><span class="parenthesis" start="52">)</span><span class="z">"</span><span id="wx832" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w834"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?cellpadding">cellpadding</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}pi" class="solar"><span class="function" start="1" pair-end="52" select="quick">f:pi</span></a><span class="parenthesis">(</span><span class="node" start="6" pair-end="37" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="29">dbhtml</span><span class="op">'</span><span class="parenthesis" start="37">)</span><span class="op" start="38">,</span><span class="op">'</span><span class="literal" start="39">cellpadding</span><span class="op">'</span><span class="parenthesis" start="52">)</span><span class="z">"</span><span id="wx860" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w862"><span class="es">&lt;</span><span class="en">table</span><span class="z"> </span><span class="atn">border</span><span class="atneq">=</span><span class="z">"</span><span class="av">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w872"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="z">&lt;!--</span><span class="cm"> If there's a textobject/phrase for the table summary, use it </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w880"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="step" start="11">/</span><span class="context" start="12">..</span><span class="step" start="14">/</span><span class="qname" start="15" select="quick">db:textobject</span><span class="step" start="28">/</span><span class="qname" start="29" select="quick">db:phrase</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w896"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">summary</span><span class="z">"</span><span class="z">
               		       </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="function" start="1" pair-end="48" select="quick">xs:string</span><span class="parenthesis">(</span><span class="variable" start="11" select="quick">$origtable</span><span class="step" start="21">/</span><span class="context" start="22">..</span><span class="step" start="24">/</span><span class="qname" start="25" select="quick">db:textobject</span><span class="step" start="38">/</span><span class="qname" start="39" select="quick">db:phrase</span><span class="parenthesis" start="48">)</span><span class="z">"</span><span id="wx919" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx923" class="ec">&gt;</span></span><span class="txt">

      </span><span class="z">&lt;!--</span><span class="cm"> If there's a &lt;?dbhtml table-summary="foo"?&gt; PI, use it for
           the HTML table summary attribute </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w929"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$summary</span><span class="whitespace" start="9"> </span><span class="op" start="10">!=</span><span class="whitespace" start="12"> </span><span class="op">'</span><span class="literal" start="13"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w945"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">summary</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$summary</span><span class="z">"</span><span id="wx959" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx963" class="ec">&gt;</span></span><span class="txt">

      </span><span class="z">&lt;!--</span><span class="cm"> Otherwise, if there's a title, use that </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w969"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="step" start="11">/</span><span class="context" start="12">..</span><span class="step" start="14">/</span><span class="qname" start="15" select="quick">db:title</span><span class="op" start="23">|</span><span class="variable" start="24" select="quick">$origtable</span><span class="step" start="34">/</span><span class="context" start="35">..</span><span class="step" start="37">/</span><span class="qname" start="38" select="quick">db:info</span><span class="step" start="45">/</span><span class="qname" start="46" select="quick">db:title</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w991"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?title">title</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">node()*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1007"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="step" start="11">/</span><span class="context" start="12">..</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:title-content</span><span class="z">"</span><span id="wx1023" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1027" class="ec">&gt;</span></span><span class="txt">

        </span><span class="ww" id="w1029"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">summary</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-string-join" class="solar"><span class="function" start="1" pair-end="23" select="quick">string-join</span></a><span class="parenthesis">(</span><span class="variable" start="13" select="quick">$title</span><span class="op" start="19">,</span><span class="whitespace" start="20"> </span><span class="op">'</span><span class="literal" start="21"></span><span class="op">'</span><span class="parenthesis" start="23">)</span><span class="z">"</span><span id="wx1051" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1055" class="ec">&gt;</span></span><span class="txt">

      </span><span class="z">&lt;!--</span><span class="cm"> Otherwise, forget the whole idea </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w1061"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt"></span><span class="z">&lt;!--</span><span class="cm"> nevermind </span><span class="z">--&gt;</span><span class="txt"></span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1071" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1075" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1077"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$cellspacing</span><span class="whitespace" start="13"> </span><span class="op" start="14">!=</span><span class="whitespace" start="16"> </span><span class="op">'</span><span class="literal" start="17"></span><span class="op">'</span><span class="whitespace" start="19"> </span><span class="op" start="20">or</span><span class="whitespace" start="22"> </span><a href="xslt/base/html/param.xsl.html#v?table.html.cellspacing" class="solar"><span class="variable" start="23" select="quick">$table.html.cellspacing</span></a><span class="whitespace" start="46"> </span><span class="op" start="47">!=</span><span class="whitespace" start="49"> </span><span class="op">'</span><span class="literal" start="50"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1103"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">cellspacing</span><span class="z">"</span><span class="z">
               		     </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="23" select="quick">(</span><span class="variable" start="5" select="quick">$cellspacing</span><span class="whitespace" start="17"> </span><span class="op" start="18">!=</span><span class="whitespace" start="20"> </span><span class="op">'</span><span class="literal" start="21"></span><span class="op">'</span><span class="parenthesis" start="23">)</span><span class="whitespace" start="24">
                       </span><span class="qname" start="25" select="quick">	</span><span class="whitespace" start="26">                     </span><span class="op" start="47">then</span><span class="whitespace" start="51"> </span><span class="variable" start="52" select="quick">$cellspacing</span><span class="whitespace" start="64">
                       </span><span class="qname" start="65" select="quick">	</span><span class="qname" start="66" select="quick">	</span><span class="qname" start="67" select="quick">	</span><span class="whitespace" start="68">     </span><span class="op" start="73">else</span><span class="whitespace" start="77"> </span><a href="xslt/base/html/param.xsl.html#v?table.html.cellspacing" class="solar"><span class="variable" start="78" select="quick">$table.html.cellspacing</span></a><span class="z">"</span><span id="wx1141" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1145" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1147"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$cellpadding</span><span class="whitespace" start="13"> </span><span class="op" start="14">!=</span><span class="whitespace" start="16"> </span><span class="op">'</span><span class="literal" start="17"></span><span class="op">'</span><span class="whitespace" start="19"> </span><span class="op" start="20">or</span><span class="whitespace" start="22"> </span><a href="xslt/base/html/param.xsl.html#v?table.html.cellpadding" class="solar"><span class="variable" start="23" select="quick">$table.html.cellpadding</span></a><span class="whitespace" start="46"> </span><span class="op" start="47">!=</span><span class="whitespace" start="49"> </span><span class="op">'</span><span class="literal" start="50"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1173"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">cellpadding</span><span class="z">"</span><span class="z">
               		     </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="23" select="quick">(</span><span class="variable" start="5" select="quick">$cellpadding</span><span class="whitespace" start="17"> </span><span class="op" start="18">!=</span><span class="whitespace" start="20"> </span><span class="op">'</span><span class="literal" start="21"></span><span class="op">'</span><span class="parenthesis" start="23">)</span><span class="whitespace" start="24">
                       </span><span class="qname" start="25" select="quick">	</span><span class="whitespace" start="26">                     </span><span class="op" start="47">then</span><span class="whitespace" start="51"> </span><span class="variable" start="52" select="quick">$cellpadding</span><span class="whitespace" start="64">
                       </span><span class="qname" start="65" select="quick">	</span><span class="qname" start="66" select="quick">	</span><span class="qname" start="67" select="quick">	</span><span class="whitespace" start="68">     </span><span class="op" start="73">else</span><span class="whitespace" start="77"> </span><a href="xslt/base/html/param.xsl.html#v?table.html.cellpadding" class="solar"><span class="variable" start="78" select="quick">$table.html.cellpadding</span></a><span class="z">"</span><span id="wx1211" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1215" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1217"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="step" start="11">/</span><span class="context" start="12">..</span><span class="step" start="14">/</span><span class="axis" start="15">@</span><span class="qname" start="16" select="quick">pgwide</span><span class="op" start="22">=</span><span class="numeric" start="23">1</span><span class="whitespace" start="24"> </span><span class="op" start="25">or</span><span class="whitespace" start="27"> </span><span class="axis" start="28">self::</span><span class="qname" start="34" select="quick">db:entrytbl</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1239"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">width</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">100%</span><span class="op">'</span><span class="z">"</span><span id="wx1255" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1259" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1261"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?frame">frame</span><span class="z">"</span><span class="z">
              		  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="25" select="quick">(</span><span class="variable" start="5" select="quick">$origtable</span><span class="step" start="15">/</span><span class="context" start="16">..</span><span class="step" start="18">/</span><span class="axis" start="19">@</span><span class="qname" start="20" select="quick">frame</span><span class="parenthesis" start="25">)</span><span class="whitespace" start="26">
                                                </span><span class="op" start="53">then</span><span class="whitespace" start="57"> </span><span class="variable" start="58" select="quick">$origtable</span><span class="step" start="68">/</span><span class="context" start="69">..</span><span class="step" start="71">/</span><span class="axis" start="72">@</span><span class="qname" start="73" select="quick">frame</span><span class="whitespace" start="78">
                      </span><span class="qname" start="79" select="quick">	</span><span class="qname" start="80" select="quick">	</span><span class="qname" start="81" select="quick">	</span><span class="whitespace" start="82">  </span><span class="op" start="84">else</span><span class="whitespace" start="88"> </span><a href="xslt/base/html/param.xsl.html#v?table.frame.default" class="solar"><span class="variable" start="89" select="quick">$table.frame.default</span></a><span class="z">"</span><span id="wx1301" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1303"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1307"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$frame</span><span class="op" start="7">=</span><span class="op">'</span><span class="literal" start="8">all</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1321"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w1331"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">border-collapse: collapse;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1337" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1339"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1349"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">top</span><span class="op">'</span><span class="z">"</span><span id="wx1365" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1369" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1371"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1381"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">bottom</span><span class="op">'</span><span class="z">"</span><span id="wx1397" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1401" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1403"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1413"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">left</span><span class="op">'</span><span class="z">"</span><span id="wx1429" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1433" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1435"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1445"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">right</span><span class="op">'</span><span class="z">"</span><span id="wx1461" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1465" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx1469" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1473" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1475"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$frame</span><span class="op" start="7">=</span><span class="op">'</span><span class="literal" start="8">topbot</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1489"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w1499"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">border-collapse: collapse;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1505" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1507"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1517"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">top</span><span class="op">'</span><span class="z">"</span><span id="wx1533" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1537" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1539"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1549"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">bottom</span><span class="op">'</span><span class="z">"</span><span id="wx1565" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1569" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx1573" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1577" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1579"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$frame</span><span class="op" start="7">=</span><span class="op">'</span><span class="literal" start="8">top</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1593"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w1603"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">border-collapse: collapse;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1609" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1611"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1621"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">top</span><span class="op">'</span><span class="z">"</span><span id="wx1637" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1641" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx1645" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1649" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1651"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$frame</span><span class="op" start="7">=</span><span class="op">'</span><span class="literal" start="8">bottom</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1665"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w1675"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">border-collapse: collapse;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1681" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1683"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1693"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">bottom</span><span class="op">'</span><span class="z">"</span><span id="wx1709" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1713" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx1717" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1721" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1723"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$frame</span><span class="op" start="7">=</span><span class="op">'</span><span class="literal" start="8">sides</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1737"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w1747"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">border-collapse: collapse;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1753" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1755"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1765"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">left</span><span class="op">'</span><span class="z">"</span><span id="wx1781" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1785" class="ec">&gt;</span></span><span class="txt">
	  </span><span class="ww" id="w1787"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w1797"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">right</span><span class="op">'</span><span class="z">"</span><span id="wx1813" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1817" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx1821" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1825" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1827"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1831"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w1841"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">border-collapse: collapse;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1847" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx1851" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1855" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1859" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1861"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?colgroup">colgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1877"><span class="es">&lt;</span><span class="en">colgroup</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1881"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#t?generate-colgroup" class="solar"><span class="tcall">generate-colgroup</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1891"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">cols</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">cols</span><span class="z">"</span><span id="wx1906" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1910" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">colgroup</span><span id="wx1914" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx1918" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1920"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?explicit.table.width">explicit.table.width</span><span class="z">"</span><span class="z">
              		  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}pi" class="solar"><span class="function" start="1" pair-end="52" select="quick">f:pi</span></a><span class="parenthesis">(</span><span class="node" start="6" pair-end="37" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="29">dbhtml</span><span class="op">'</span><span class="parenthesis" start="37">)</span><span class="op" start="38">,</span><span class="op">'</span><span class="literal" start="39">table-width</span><span class="op">'</span><span class="parenthesis" start="52">)</span><span class="z">"</span><span id="wx1946" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w1948"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?table.width">table.width</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1958"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w1962"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$explicit.table.width</span><span class="whitespace" start="22"> </span><span class="op" start="23">!=</span><span class="whitespace" start="25"> </span><span class="op">'</span><span class="literal" start="26"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1978"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$explicit.table.width</span><span class="z">"</span><span id="wx1986" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1990" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ww" id="w1992"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="1" pair-end="28" select="quick">string</span></a><span class="parenthesis">(</span><a href="xslt/base/html/param.xsl.html#v?table.width.default" class="solar"><span class="variable" start="8" select="quick">$table.width.default</span></a><span class="parenthesis" start="28">)</span><span class="whitespace" start="29"> </span><span class="op" start="30">=</span><span class="whitespace" start="31"> </span><span class="op">'</span><span class="literal" start="32"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2011"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">100%</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx2017" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2021" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w2023"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w2027"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?table.width.default" class="solar"><span class="variable" start="1" select="quick">$table.width.default</span></a><span class="z">"</span><span id="wx2035" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2039" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2043" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx2047" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2049"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function" start="1" pair-end="28" select="quick">string</span></a><span class="parenthesis">(</span><a href="xslt/base/html/param.xsl.html#v?table.width.default" class="solar"><span class="variable" start="8" select="quick">$table.width.default</span></a><span class="parenthesis" start="28">)</span><span class="whitespace" start="29"> </span><span class="op" start="30">!=</span><span class="whitespace" start="32"> </span><span class="op">'</span><span class="literal" start="33"></span><span class="op">'</span><span class="whitespace" start="35">
                                </span><span class="op" start="54">or</span><span class="whitespace" start="56"> </span><span class="variable" start="57" select="quick">$explicit.table.width</span><span class="whitespace" start="78"> </span><span class="op" start="79">!=</span><span class="whitespace" start="81"> </span><span class="op">'</span><span class="literal" start="82"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2078"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">width</span><span class="z">"</span><span class="z">
               		     </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#f?{http://docbook.org/xslt/ns/extension}convert-length" class="solar"><span class="function" start="1" pair-end="30" select="quick">f:convert-length</span></a><span class="parenthesis">(</span><span class="variable" start="18" select="quick">$table.width</span><span class="parenthesis" start="30">)</span><span class="z">"</span><span id="wx2095" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2099" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2101"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/table.xsl.html#t?adjust-column-widths" class="solar"><span class="tcall">adjust-column-widths</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2111"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">table-width</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$table.width</span><span class="z">"</span><span id="wx2125" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2127"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colgroup</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$colgroup</span><span class="z">"</span><span id="wx2141" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2143"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">abspixels</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">1</span><span class="z">"</span><span id="wx2157" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2161" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2163"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:thead</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2179"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="z">"</span><span id="wx2193" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2197" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2199"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:tfoot</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2215"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="z">"</span><span id="wx2229" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2233" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2235"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:tbody</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2251"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="z">"</span><span id="wx2265" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2269" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2271"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="step" start="2">//</span><span class="qname" start="4" select="quick">db:footnote</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2283"><span class="es">&lt;</span><span class="en">tbody</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">footnotes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2293"><span class="es">&lt;</span><span class="en">tr</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w2297"><span class="es">&lt;</span><span class="en">td</span><span class="z"> </span><span class="atn">colspan</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">cols</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	    </span><span class="ww" id="w2310"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="step" start="11">//</span><span class="qname" start="13" select="quick">db:footnote</span><span class="z">"</span><span class="z">
                     				 </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:table-footnote-mode</span><span class="z">"</span><span id="wx2326" class="sc">/&gt;</span></span><span class="txt">
	  </span><span class="ez">&lt;/</span><span class="cl">td</span><span id="wx2330" class="ec">&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="cl">tr</span><span id="wx2334" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">tbody</span><span id="wx2338" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2342" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">table</span><span id="wx2346" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2350" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2352"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:entrytbl</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2368"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?origtable">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span id="wx2388" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2390"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?cellgi">cellgi</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2400"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2404"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">ancestor::</span><span class="qname" start="11" select="quick">db:thead</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">th</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2417" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2419"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">ancestor::</span><span class="qname" start="11" select="quick">db:tfoot</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">th</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2432" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2434"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">ancestor::</span><span class="qname" start="11" select="quick">db:tgroup</span><span class="step" start="20">/</span><span class="axis" start="21">parent::</span><span class="qname" start="29" select="quick">*</span><span class="step" start="30">/</span><span class="axis" start="31">@</span><span class="qname" start="32" select="quick">rowheader</span><span class="op" start="41">=</span><span class="op">'</span><span class="literal" start="42">firstcol</span><span class="op">'</span><span class="whitespace" start="52">
                </span><span class="qname" start="53" select="quick">	</span><span class="qname" start="54" select="quick">	</span><span class="whitespace" start="55">      </span><span class="op" start="61">and</span><span class="whitespace" start="64"> </span><span class="qname" start="65" select="quick">ghost:colnum</span><span class="op" start="77">=</span><span class="numeric" start="78">1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">th</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx2466" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w2468"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">td</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx2474" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx2478" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx2482" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2484"><span class="es">&lt;</span><span class="enxsl">xsl:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$cellgi</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2496"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?{http://docbook.org/ns/docbook}tgroup" class="solar"><span class="tcall">db:tgroup</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2506"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="z">"</span><span id="wx2520" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2524" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:element</span><span id="wx2528" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2532" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w2538"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2554"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for processing normalized CALS tables</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx2560" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2562"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w2566"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to format normalized CALS tables.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx2572" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx2576" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx2580" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2582"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:thead</span><span class="op" start="9">|</span><span class="qname" start="10" select="quick">db:tbody</span><span class="op" start="18">|</span><span class="qname" start="19" select="quick">db:tfoot</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2602"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?origtable">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span id="wx2622" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2624"><span class="es">&lt;</span><span class="enxsl">xsl:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="z">
             	       </span><span class="atn">namespace</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2645"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">align</span><span class="op" start="7">|</span><span class="axis" start="8">@</span><span class="qname" start="9" select="quick">valign</span><span class="op" start="15">|</span><span class="axis" start="16">@</span><span class="qname" start="17" select="quick">char</span><span class="op" start="21">|</span><span class="axis" start="22">@</span><span class="qname" start="23" select="quick">charoff</span><span class="z">"</span><span id="wx2663" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2665"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2675"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="z">"</span><span id="wx2689" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx2693" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:element</span><span id="wx2697" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2701" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2703"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:colspec</span><span class="op" start="11">|</span><span class="qname" start="12" select="quick">db:spanspec</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2721"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?origtable">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span id="wx2741" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> nop </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx2749" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w2751"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:row</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w2767"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?origtable">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span id="wx2787" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2789"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?row-height">row-height</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}pi" class="solar"><span class="function" start="1" pair-end="51" select="quick">f:pi</span></a><span class="parenthesis">(</span><span class="node" start="6" pair-end="37" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="29">dbhtml</span><span class="op">'</span><span class="parenthesis" start="37">)</span><span class="op" start="38">,</span><span class="op">'</span><span class="literal" start="39">row-height</span><span class="op">'</span><span class="parenthesis" start="51">)</span><span class="z">"</span><span id="wx2815" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2817"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?bgcolor">bgcolor</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}pi" class="solar"><span class="function" start="1" pair-end="48" select="quick">f:pi</span></a><span class="parenthesis">(</span><span class="node" start="6" pair-end="37" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="29">dbhtml</span><span class="op">'</span><span class="parenthesis" start="37">)</span><span class="op" start="38">,</span><span class="op">'</span><span class="literal" start="39">bgcolor</span><span class="op">'</span><span class="parenthesis" start="48">)</span><span class="z">"</span><span id="wx2843" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2845"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?class">class</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}pi" class="solar"><span class="function" start="1" pair-end="46" select="quick">f:pi</span></a><span class="parenthesis">(</span><span class="node" start="6" pair-end="37" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="29">dbhtml</span><span class="op">'</span><span class="parenthesis" start="37">)</span><span class="op" start="38">,</span><span class="op">'</span><span class="literal" start="39">class</span><span class="op">'</span><span class="parenthesis" start="46">)</span><span class="z">"</span><span id="wx2871" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w2873"><span class="es">&lt;</span><span class="en">tr</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w2877"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/common.xsl.html#t?{http://docbook.org/xslt/ns/template}id" class="solar"><span class="tcall">t:id</span></a><span class="z">"</span><span id="wx2885" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w2887"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?tr-attributes" class="solar"><span class="tcall">tr-attributes</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2897"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">rownum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w2907"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">count</span><span class="atneq">=</span><span class="z">"</span><span class="av">db:row</span><span class="z">"</span><span id="wx2915" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx2919" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx2923" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2925"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$row-height</span><span class="whitespace" start="12"> </span><span class="op" start="13">!=</span><span class="whitespace" start="15"> </span><span class="op">'</span><span class="literal" start="16"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2941"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">height</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$row-height</span><span class="z">"</span><span id="wx2955" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2959" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2961"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$bgcolor</span><span class="whitespace" start="9"> </span><span class="op" start="10">!=</span><span class="whitespace" start="12"> </span><span class="op">'</span><span class="literal" start="13"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w2977"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">bgcolor</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$bgcolor</span><span class="z">"</span><span id="wx2991" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx2995" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w2997"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$class</span><span class="whitespace" start="7"> </span><span class="op" start="8">!=</span><span class="whitespace" start="10"> </span><span class="op">'</span><span class="literal" start="11"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3013"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">class</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$class</span><span class="z">"</span><span id="wx3027" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3031" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3033"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">rowsep</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">1</span><span class="whitespace" start="12"> </span><span class="op" start="13">and</span><span class="whitespace" start="16"> </span><span class="parenthesis" start="17" pair-end="107" select="quick">(</span><span class="axis" start="18">following-sibling::</span><span class="qname" start="37" select="quick">db:row</span><span class="whitespace" start="43"> </span><span class="op" start="44">or</span><span class="whitespace" start="46"> </span><span class="context" start="47">..</span><span class="step" start="49">/</span><span class="parenthesis" start="50" pair-end="106" select="quick">(</span><span class="axis" start="51">following-sibling::</span><span class="qname" start="70" select="quick">db:tbody</span><span class="op" start="78">|</span><span class="axis" start="79">following-sibling::</span><span class="qname" start="98" select="quick">db:tfoot</span><span class="parenthesis" start="106">)</span><span class="parenthesis" start="107">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3067"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3077"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w3087"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">bottom</span><span class="op">'</span><span class="z">"</span><span id="wx3103" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3107" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx3111" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3115" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3117"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">align</span><span class="op" start="7">|</span><span class="axis" start="8">@</span><span class="qname" start="9" select="quick">valign</span><span class="op" start="15">|</span><span class="axis" start="16">@</span><span class="qname" start="17" select="quick">char</span><span class="op" start="21">|</span><span class="axis" start="22">@</span><span class="qname" start="23" select="quick">charoff</span><span class="z">"</span><span id="wx3135" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3137"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3147"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origtable</span><span class="z">"</span><span id="wx3161" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx3165" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">tr</span><span id="wx3169" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3173" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w3179"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">tr-attributes</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3195"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Extension point for table row attributes</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx3201" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3203"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3207"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template can be redefined by a customization layer to add
attributes to table rows. For example, this template could be used
to add shading
to alternate rows of the table:</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3213" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3215"><span class="es">&lt;</span><span class="en">programlisting</span><span class="scx">&gt;</span><span class="txt"></span><span class="z">&lt;![CDATA[</span><span class="cd">&lt;xsl:template name="tr-attributes"&gt;
  &lt;xsl:param name="row" select="."/&gt;
  &lt;xsl:param name="rownum" required="yes"/&gt;

  &lt;xsl:if test="$rownum mod 2 = 0"&gt;
    &lt;xsl:attribute name="class"&gt;oddrow&lt;/xsl:attribute&gt;
  &lt;/xsl:if&gt;
&lt;/xsl:template&gt;</span><span class="z">]]&gt;</span><span class="txt"></span><span class="ez">&lt;/</span><span class="cl">programlisting</span><span id="wx3225" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3227"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The default version of this template does nothing.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3233" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx3237" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3239"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3243"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3247"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3251"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">row</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3257" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3259"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3263"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The table row element, defaults to the current context node.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3269" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3273" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3277" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3279"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">required</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w3289"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">colnum</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx3295" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w3297"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3301"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The ordinal number of the row within its parent.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3307" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx3311" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx3315" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx3319" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx3323" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3325"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w3329"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">A sequence of zero or more attribute nodes.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx3335" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx3339" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx3343" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3345"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?tr-attributes">tr-attributes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3355"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?row">row</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx3369" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w3371"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?rownum">rownum</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx3385" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> nop </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx3393" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w3395"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:entry</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w3411"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?origtable">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span id="wx3431" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3433"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?cellgi">cellgi</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3443"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3447"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">ancestor::</span><span class="qname" start="11" select="quick">db:thead</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">th</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3460" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3462"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">ancestor::</span><span class="qname" start="11" select="quick">db:tfoot</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">th</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3475" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3477"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">ancestor::</span><span class="qname" start="11" select="quick">db:tgroup</span><span class="step" start="20">/</span><span class="axis" start="21">parent::</span><span class="qname" start="29" select="quick">*</span><span class="step" start="30">/</span><span class="axis" start="31">@</span><span class="qname" start="32" select="quick">rowheader</span><span class="op" start="41">=</span><span class="op">'</span><span class="literal" start="42">firstcol</span><span class="op">'</span><span class="whitespace" start="52">
                </span><span class="qname" start="53" select="quick">	</span><span class="qname" start="54" select="quick">	</span><span class="whitespace" start="55">      </span><span class="op" start="61">and</span><span class="whitespace" start="64"> </span><span class="qname" start="65" select="quick">ghost:colnum</span><span class="op" start="77">=</span><span class="numeric" start="78">1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">th</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3509" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3511"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">td</span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx3517" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx3521" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx3525" class="ec">&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3527"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?empty.cell">empty.cell</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="11" select="quick">not</span></a><span class="parenthesis">(</span><span class="node" start="5" pair-end="10" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="10">)</span><span class="parenthesis" start="11">)</span><span class="z">"</span><span id="wx3546" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3548"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?bgcolor">bgcolor</span><span class="z">"</span><span class="z">
              		</span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/functions.xsl.html#f?{http://docbook.org/xslt/ns/extension}pi" class="solar"><span class="function" start="1" pair-end="48" select="quick">f:pi</span></a><span class="parenthesis">(</span><span class="node" start="6" pair-end="37" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="29">dbhtml</span><span class="op">'</span><span class="parenthesis" start="37">)</span><span class="op" start="38">,</span><span class="op">'</span><span class="literal" start="39">bgcolor</span><span class="op">'</span><span class="parenthesis" start="48">)</span><span class="z">"</span><span id="wx3574" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w3576"><span class="es">&lt;</span><span class="enxsl">xsl:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$cellgi</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w3588"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/common/common.xsl.html#t?{http://docbook.org/xslt/ns/template}id" class="solar"><span class="tcall">t:id</span></a><span class="z">"</span><span id="wx3596" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w3598"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/html.xsl.html#t?class" class="solar"><span class="tcall">class</span></a><span class="z">"</span><span id="wx3606" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3608"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$bgcolor</span><span class="whitespace" start="9"> </span><span class="op" start="10">!=</span><span class="whitespace" start="12"> </span><span class="op">'</span><span class="literal" start="13"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3624"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">bgcolor</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$bgcolor</span><span class="z">"</span><span id="wx3638" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3642" class="ec">&gt;</span></span><span class="txt">

    </span><span class="z">&lt;!--</span><span class="cm"> FIXME: handle @revisionflag </span><span class="z">--&gt;</span><span class="txt">

    </span><span class="ww" id="w3648"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?border-value">border-value</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3664"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">colsep</span><span class="whitespace" start="8"> </span><span class="qname" start="9" select="quick">&amp;</span><span class="op" start="10">gt</span><span class="qname" start="12" select="quick">;</span><span class="whitespace" start="13"> </span><span class="numeric" start="14">0</span><span class="whitespace" start="15"> </span><span class="op" start="16">and</span><span class="whitespace" start="19"> </span><span class="axis" start="20">following-sibling::</span><span class="qname" start="39" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3686"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3696"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">right</span><span class="op">'</span><span class="z">"</span><span id="wx3712" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3716" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3720" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3722"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">rowsep</span><span class="whitespace" start="8"> </span><span class="qname" start="9" select="quick">&amp;</span><span class="op" start="10">gt</span><span class="qname" start="12" select="quick">;</span><span class="whitespace" start="13"> </span><span class="numeric" start="14">0</span><span class="whitespace" start="15"> </span><span class="op" start="16">and</span><span class="whitespace" start="19"> </span><span class="parenthesis" start="20" pair-end="123" select="quick">(</span><span class="axis" start="21">parent::</span><span class="qname" start="29" select="quick">*</span><span class="step" start="30">/</span><span class="axis" start="31">following-sibling::</span><span class="qname" start="50" select="quick">db:row</span><span class="whitespace" start="56"> </span><span class="op" start="57">or</span><span class="whitespace" start="59"> </span><span class="context" start="60">..</span><span class="step" start="62">/</span><span class="context" start="63">..</span><span class="step" start="65">/</span><span class="parenthesis" start="66" pair-end="122" select="quick">(</span><span class="axis" start="67">following-sibling::</span><span class="qname" start="86" select="quick">db:tbody</span><span class="op" start="94">|</span><span class="axis" start="95">following-sibling::</span><span class="qname" start="114" select="quick">db:tfoot</span><span class="parenthesis" start="122">)</span><span class="parenthesis" start="123">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3763"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w3773"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">bottom</span><span class="op">'</span><span class="z">"</span><span id="wx3789" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx3793" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3797" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:variable</span><span id="wx3801" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3803"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-string-join" class="solar"><span class="function" start="1" pair-end="29" select="quick">string-join</span></a><span class="parenthesis">(</span><span class="variable" start="13" select="quick">$border-value</span><span class="op" start="26">,</span><span class="op">'</span><span class="literal" start="27"></span><span class="op">'</span><span class="parenthesis" start="29">)</span><span class="whitespace" start="30"> </span><span class="op" start="31">!=</span><span class="whitespace" start="33"> </span><span class="op">'</span><span class="literal" start="34"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3826"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-string-join" class="solar"><span class="function" start="1" pair-end="29" select="quick">string-join</span></a><span class="parenthesis">(</span><span class="variable" start="13" select="quick">$border-value</span><span class="op" start="26">,</span><span class="op">'</span><span class="literal" start="27"></span><span class="op">'</span><span class="parenthesis" start="29">)</span><span class="z">"</span><span id="wx3847" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3851" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3853"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">ghost:morerows</span><span class="whitespace" start="16"> </span><span class="qname" start="17" select="quick">&amp;</span><span class="op" start="18">gt</span><span class="qname" start="20" select="quick">;</span><span class="whitespace" start="21"> </span><span class="numeric" start="22">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3870"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">rowspan</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">ghost:morerows</span><span class="whitespace" start="16"> </span><span class="op" start="17">+</span><span class="whitespace" start="18"> </span><span class="numeric" start="19">1</span><span class="z">"</span><span id="wx3889" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3893" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3895"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">ghost:width</span><span class="whitespace" start="13"> </span><span class="qname" start="14" select="quick">&amp;</span><span class="op" start="15">gt</span><span class="qname" start="17" select="quick">;</span><span class="whitespace" start="18"> </span><span class="numeric" start="19">1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3912"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">colspan</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">ghost:width</span><span class="z">"</span><span id="wx3927" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx3931" class="ec">&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3933"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">align</span><span class="op" start="7">|</span><span class="axis" start="8">@</span><span class="qname" start="9" select="quick">valign</span><span class="op" start="15">|</span><span class="axis" start="16">@</span><span class="qname" start="17" select="quick">char</span><span class="op" start="21">|</span><span class="axis" start="22">@</span><span class="qname" start="23" select="quick">charoff</span><span class="z">"</span><span id="wx3951" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w3953"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w3957"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$empty.cell</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w3967"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">&amp;#160;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx3973" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx3977" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w3979"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w3983"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?origcell">origcell</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="1" pair-end="33" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="5">genid</span><span class="op">'</span><span class="op" start="12">,</span><span class="axis" start="13">@</span><span class="qname" start="14" select="quick">ghost:id</span><span class="op" start="22">,</span><span class="variable" start="23" select="quick">$origtable</span><span class="parenthesis" start="33">)</span><span class="z">"</span><span id="wx4007" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ww" id="w4009"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$origcell</span><span class="step" start="10">/</span><span class="node" start="11" pair-end="16" select="quick">node</span><span class="parenthesis">(</span><span class="parenthesis" start="16">)</span><span class="z">"</span><span id="wx4021" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx4025" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx4029" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:element</span><span id="wx4033" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4037" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4039"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">ghost:empty</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w4055"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?origtable">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span id="wx4075" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> FIXME: what about attributes on empty cells? </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ww" id="w4081"><span class="es">&lt;</span><span class="en">td</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4085"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w4095"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">colsep</span><span class="whitespace" start="8"> </span><span class="qname" start="9" select="quick">&amp;</span><span class="op" start="10">gt</span><span class="qname" start="12" select="quick">;</span><span class="whitespace" start="13"> </span><span class="numeric" start="14">0</span><span class="whitespace" start="15"> </span><span class="op" start="16">and</span><span class="whitespace" start="19"> </span><span class="axis" start="20">following-sibling::</span><span class="qname" start="39" select="quick">*</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w4117"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w4127"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">right</span><span class="op">'</span><span class="z">"</span><span id="wx4143" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx4147" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx4151" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4153"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">rowsep</span><span class="whitespace" start="8"> </span><span class="qname" start="9" select="quick">&amp;</span><span class="op" start="10">gt</span><span class="qname" start="12" select="quick">;</span><span class="whitespace" start="13"> </span><span class="numeric" start="14">0</span><span class="whitespace" start="15"> </span><span class="op" start="16">and</span><span class="whitespace" start="19"> </span><span class="axis" start="20">parent::</span><span class="qname" start="28" select="quick">*</span><span class="step" start="29">/</span><span class="axis" start="30">following-sibling::</span><span class="qname" start="49" select="quick">db:row</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	</span><span class="ww" id="w4178"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/table.xsl.html#t?border" class="solar"><span class="tcall">border</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
	  </span><span class="ww" id="w4188"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">side</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal" start="1">bottom</span><span class="op">'</span><span class="z">"</span><span id="wx4204" class="sc">/&gt;</span></span><span class="txt">
	</span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx4208" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx4212" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:attribute</span><span id="wx4216" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4218"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">&amp;#160;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4224" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">td</span><span id="wx4228" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4232" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4234"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">ghost:overlapped</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w4250"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?origtable">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span id="wx4270" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> nop </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4278" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4280"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w4296"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?origtable">origtable</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element(db:tgroup)</span><span class="z">"</span><span id="wx4316" class="sc">/&gt;</span></span><span class="txt">

  </span><span class="ww" id="w4318"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="z"> </span><span class="atn">terminate</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4328"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Error: attempt to process </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4334" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4336"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="7" select="quick">name</span></a><span class="parenthesis">(</span><span class="context" start="6">.</span><span class="parenthesis" start="7">)</span><span class="z">"</span><span id="wx4347" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4349"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> in mode m:cals.</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4355" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx4359" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4363" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4365"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="node" start="1" pair-end="9" select="quick">comment</span><span class="parenthesis">(</span><span class="parenthesis" start="9">)</span><span class="op" start="10">|</span><span class="node" start="11" pair-end="34" select="quick">processing-instruction</span><span class="parenthesis">(</span><span class="parenthesis" start="34">)</span><span class="op" start="35">|</span><span class="node" start="36" pair-end="41" select="quick">text</span><span class="parenthesis">(</span><span class="parenthesis" start="41">)</span><span class="z">"</span><span class="z">
              	      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:cals</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w4391"><span class="es">&lt;</span><span class="enxsl">xsl:copy</span><span id="wx4393" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx4397" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ==================================================================== </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w4403"><span class="es">&lt;</span><span class="en">doc:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">border</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4419"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Generate CSS for table cell borders</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx4425" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4427"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4431"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This template generates the inline CSS necessary to add borders
to a table cell.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4437" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx4441" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4443"><span class="es">&lt;</span><span class="en">refparameter</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4447"><span class="es">&lt;</span><span class="en">variablelist</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4451"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="z"> </span><span class="atn">role</span><span class="atneq">=</span><span class="z">"</span><span class="av">required</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w4461"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">side</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx4467" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4469"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4473"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The side of the table on which to apply the border: must be one of
top, bottom, left, or right.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4479" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx4483" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx4487" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4489"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w4493"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">padding</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx4499" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4501"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4505"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The desired padding. Defaults to zero.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4511" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx4515" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx4519" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4521"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w4525"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">style</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx4531" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4533"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4537"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The desired style.
Defaults to </span><span class="ww" id="w4541"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">table.cell.border.style</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx4547" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4551" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx4555" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx4559" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4561"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w4565"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">color</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx4571" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4573"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4577"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The desired color.
Defaults to </span><span class="ww" id="w4581"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">table.cell.border.color</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx4587" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4591" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx4595" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx4599" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4601"><span class="es">&lt;</span><span class="en">varlistentry</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w4605"><span class="es">&lt;</span><span class="en">term</span><span class="scx">&gt;</span><span class="txt">thickness</span><span class="ez">&lt;/</span><span class="cl">term</span><span id="wx4611" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w4613"><span class="es">&lt;</span><span class="en">listitem</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4617"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">The desired thickness.
Defaults to </span><span class="ww" id="w4621"><span class="es">&lt;</span><span class="en">parameter</span><span class="scx">&gt;</span><span class="txt">table.cell.border.thickness</span><span class="ez">&lt;/</span><span class="cl">parameter</span><span id="wx4627" class="ec">&gt;</span></span><span class="txt">.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4631" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">listitem</span><span id="wx4635" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">varlistentry</span><span id="wx4639" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">variablelist</span><span id="wx4643" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refparameter</span><span id="wx4647" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4649"><span class="es">&lt;</span><span class="en">refreturn</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w4653"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">A fragment of CSS style suitable for use in a style attribute.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx4659" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refreturn</span><span id="wx4663" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:template</span><span id="wx4667" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w4669"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?border">border</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w4679"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?side">side</span><span class="z">"</span><span class="z"> </span><span class="atn">required</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx4693" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4695"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?padding">padding</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="numeric" start="1">0</span><span class="z">"</span><span id="wx4709" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4711"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?style">style</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?table.cell.border.style" class="solar"><span class="variable" start="1" select="quick">$table.cell.border.style</span></a><span class="z">"</span><span id="wx4725" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4727"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?color">color</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?table.cell.border.color" class="solar"><span class="variable" start="1" select="quick">$table.cell.border.color</span></a><span class="z">"</span><span id="wx4741" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ww" id="w4743"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?thickness">thickness</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xslt/base/html/param.xsl.html#v?table.cell.border.thickness" class="solar"><span class="variable" start="1" select="quick">$table.cell.border.thickness</span></a><span class="z">"</span><span id="wx4757" class="sc">/&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm">
  &lt;xsl:message&gt;
    &lt;xsl:value-of select="$side"/&gt;
    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
    &lt;xsl:value-of select="$thickness"/&gt;
    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
    &lt;xsl:value-of select="$style"/&gt;
    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
    &lt;xsl:value-of select="$color"/&gt;
  &lt;/xsl:message&gt;
</span><span class="z">--&gt;</span><span class="txt">

  </span><span class="z">&lt;!--</span><span class="cm"> Note: Some browsers (mozilla) require at least a width and style. </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ww" id="w4767"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w4771"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis" start="1" pair-end="94" select="quick">(</span><span class="variable" start="2" select="quick">$thickness</span><span class="whitespace" start="12"> </span><span class="op" start="13">!=</span><span class="whitespace" start="15"> </span><span class="op">'</span><span class="literal" start="16"></span><span class="op">'</span><span class="whitespace" start="18">
                                     </span><span class="op" start="40">and</span><span class="whitespace" start="43"> </span><span class="variable" start="44" select="quick">$style</span><span class="whitespace" start="50"> </span><span class="op" start="51">!=</span><span class="whitespace" start="53"> </span><span class="op">'</span><span class="literal" start="54"></span><span class="op">'</span><span class="whitespace" start="56">
                                     </span><span class="op" start="78">and</span><span class="whitespace" start="81"> </span><span class="variable" start="82" select="quick">$color</span><span class="whitespace" start="88"> </span><span class="op" start="89">!=</span><span class="whitespace" start="91"> </span><span class="op">'</span><span class="literal" start="92"></span><span class="op">'</span><span class="parenthesis" start="94">)</span><span class="whitespace" start="95">
                                    </span><span class="op" start="116">or</span><span class="whitespace" start="118"> </span><span class="parenthesis" start="119" pair-end="177" select="quick">(</span><span class="variable" start="120" select="quick">$thickness</span><span class="whitespace" start="130"> </span><span class="op" start="131">!=</span><span class="whitespace" start="133"> </span><span class="op">'</span><span class="literal" start="134"></span><span class="op">'</span><span class="whitespace" start="136">
                                        </span><span class="op" start="161">and</span><span class="whitespace" start="164"> </span><span class="variable" start="165" select="quick">$style</span><span class="whitespace" start="171"> </span><span class="op" start="172">!=</span><span class="whitespace" start="174"> </span><span class="op">'</span><span class="literal" start="175"></span><span class="op">'</span><span class="parenthesis" start="177">)</span><span class="whitespace" start="178">
                                    </span><span class="op" start="199">or</span><span class="whitespace" start="201"> </span><span class="parenthesis" start="202" pair-end="219" select="quick">(</span><span class="variable" start="203" select="quick">$thickness</span><span class="whitespace" start="213"> </span><span class="op" start="214">!=</span><span class="whitespace" start="216"> </span><span class="op">'</span><span class="literal" start="217"></span><span class="op">'</span><span class="parenthesis" start="219">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="z">&lt;!--</span><span class="cm"> use the compound property if we can: </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="z">&lt;!--</span><span class="cm"> it saves space and probably works more reliably </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w4851"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">border-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4857" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4859"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$side</span><span class="z">"</span><span id="wx4867" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4869"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4875" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4877"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$thickness</span><span class="z">"</span><span id="wx4885" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4887"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4893" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4895"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$style</span><span class="z">"</span><span id="wx4903" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4905"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt"> </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4911" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4913"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$color</span><span class="z">"</span><span id="wx4921" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ww" id="w4923"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">; </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4929" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx4933" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w4935"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="z">&lt;!--</span><span class="cm"> we need to specify the styles individually </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w4943"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$thickness</span><span class="whitespace" start="11"> </span><span class="op" start="12">!=</span><span class="whitespace" start="14"> </span><span class="op">'</span><span class="literal" start="15"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w4959"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">border-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4965" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4967"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$side</span><span class="z">"</span><span id="wx4975" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4977"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-width: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx4983" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4985"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$thickness</span><span class="z">"</span><span id="wx4993" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w4995"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">; </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5001" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx5005" class="ec">&gt;</span></span><span class="txt">

      </span><span class="ww" id="w5007"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$style</span><span class="whitespace" start="7"> </span><span class="op" start="8">!=</span><span class="whitespace" start="10"> </span><span class="op">'</span><span class="literal" start="11"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5023"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">border-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5029" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5031"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$side</span><span class="z">"</span><span id="wx5039" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5041"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-style: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5047" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5049"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$style</span><span class="z">"</span><span id="wx5057" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5059"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">; </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5065" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx5069" class="ec">&gt;</span></span><span class="txt">

      </span><span class="ww" id="w5071"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$color</span><span class="whitespace" start="7"> </span><span class="op" start="8">!=</span><span class="whitespace" start="10"> </span><span class="op">'</span><span class="literal" start="11"></span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5087"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">border-</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5093" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5095"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$side</span><span class="z">"</span><span id="wx5103" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5105"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">-color: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5111" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5113"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$color</span><span class="z">"</span><span id="wx5121" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w5123"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">; </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx5129" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx5133" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx5137" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx5141" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5145" class="ec">&gt;</span></span><span class="txt">

</span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">
</span><span class="z">&lt;!--</span><span class="cm"> HTML tables </span><span class="z">--&gt;</span><span class="txt">

</span><span class="ww" id="w5155"><span class="es">&lt;</span><span class="en">doc:mode</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span class="z"> </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5171"><span class="es">&lt;</span><span class="en">refpurpose</span><span class="scx">&gt;</span><span class="txt">Mode for processing HTML tables</span><span class="ez">&lt;/</span><span class="cl">refpurpose</span><span id="wx5177" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w5179"><span class="es">&lt;</span><span class="en">refdescription</span><span class="scx">&gt;</span><span class="txt">
</span><span class="ww" id="w5183"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">This mode is used to format HTML tables.</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx5189" class="ec">&gt;</span></span><span class="txt">
</span><span class="ww" id="w5191"><span class="es">&lt;</span><span class="en">para</span><span class="scx">&gt;</span><span class="txt">FIXME: don't copy non-HTML attributes if there are any!</span><span class="ez">&lt;/</span><span class="cl">para</span><span id="wx5197" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">refdescription</span><span id="wx5201" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="cl">doc:mode</span><span id="wx5205" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w5207"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:table</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w5223"><span class="es">&lt;</span><span class="enxsl">xsl:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="z">
             	       </span><span class="atn">namespace</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5244"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5253" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w5255"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span id="wx5263" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w5265"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="step" start="2">//</span><span class="qname" start="4" select="quick">db:footnote</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5277"><span class="es">&lt;</span><span class="en">tbody</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">footnotes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5287"><span class="es">&lt;</span><span class="en">tr</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w5291"><span class="es">&lt;</span><span class="en">td</span><span class="z"> </span><span class="atn">colspan</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-max" class="solar"><span class="function" start="1" pair-end="46" select="quick">max</span></a><span class="parenthesis">(</span><span class="higher" start="5">for</span><span class="whitespace" start="8"> </span><span id="rng-$row" class="variable" start="9" select="quick">$row</span><span class="whitespace" start="13"> </span><span class="op" start="14">in</span><span class="whitespace" start="16"> </span><span class="context" start="17">.</span><span class="step" start="18">//</span><span class="qname" start="20" select="quick">db:tr</span><span class="whitespace" start="25"> </span><span class="op" start="26">return</span><span class="whitespace" start="32"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="33" pair-end="45" select="quick">count</span></a><span class="parenthesis">(</span><span class="variable" start="39" select="quick">$row</span><span class="step" start="43">/</span><span class="qname" start="44" select="quick">*</span><span class="parenthesis" start="45">)</span><span class="parenthesis" start="46">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w5323"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="step" start="2">//</span><span class="qname" start="4" select="quick">db:footnote</span><span class="z">"</span><span class="z">
                                                      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:table-footnote-mode</span><span class="z">"</span><span id="wx5339" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">td</span><span id="wx5343" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">tr</span><span id="wx5347" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">tbody</span><span id="wx5351" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx5355" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:element</span><span id="wx5359" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5363" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w5365"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:informaltable</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w5381"><span class="es">&lt;</span><span class="en">table</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5385"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5394" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w5396"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span id="wx5404" class="sc">/&gt;</span></span><span class="txt">

    </span><span class="ww" id="w5406"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="step" start="2">//</span><span class="qname" start="4" select="quick">db:footnote</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w5418"><span class="es">&lt;</span><span class="en">tbody</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">footnotes</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w5428"><span class="es">&lt;</span><span class="en">tr</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w5432"><span class="es">&lt;</span><span class="en">td</span><span class="z"> </span><span class="atn">colspan</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-max" class="solar"><span class="function" start="1" pair-end="46" select="quick">max</span></a><span class="parenthesis">(</span><span class="higher" start="5">for</span><span class="whitespace" start="8"> </span><span id="rng-$row" class="variable" start="9" select="quick">$row</span><span class="whitespace" start="13"> </span><span class="op" start="14">in</span><span class="whitespace" start="16"> </span><span class="context" start="17">.</span><span class="step" start="18">//</span><span class="qname" start="20" select="quick">db:tr</span><span class="whitespace" start="25"> </span><span class="op" start="26">return</span><span class="whitespace" start="32"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="33" pair-end="45" select="quick">count</span></a><span class="parenthesis">(</span><span class="variable" start="39" select="quick">$row</span><span class="step" start="43">/</span><span class="qname" start="44" select="quick">*</span><span class="parenthesis" start="45">)</span><span class="parenthesis" start="46">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w5464"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="step" start="2">//</span><span class="qname" start="4" select="quick">db:footnote</span><span class="z">"</span><span class="z">
                                                      </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:table-footnote-mode</span><span class="z">"</span><span id="wx5480" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">td</span><span id="wx5484" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">tr</span><span id="wx5488" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">tbody</span><span id="wx5492" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx5496" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="cl">table</span><span id="wx5500" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5504" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w5506"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:col</span><span class="op" start="7">|</span><span class="qname" start="8" select="quick">db:colgroup</span><span class="whitespace" start="19">
                                          </span><span class="op" start="41">|</span><span class="qname" start="42" select="quick">db:thead</span><span class="op" start="50">|</span><span class="qname" start="51" select="quick">db:tfoot</span><span class="op" start="59">|</span><span class="qname" start="60" select="quick">db:tbody</span><span class="op" start="68">|</span><span class="qname" start="69" select="quick">db:tr</span><span class="whitespace" start="74">
                     </span><span class="qname" start="75" select="quick">	</span><span class="qname" start="76" select="quick">	</span><span class="whitespace" start="77">     </span><span class="op" start="82">|</span><span class="qname" start="83" select="quick">db:th</span><span class="op" start="88">|</span><span class="qname" start="89" select="quick">db:td</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="ww" id="w5541"><span class="es">&lt;</span><span class="enxsl">xsl:element</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="context" start="12">.</span><span class="parenthesis" start="13">)</span><span class="op">}</span><span class="z">"</span><span class="z">
             	       </span><span class="atn">namespace</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w5562"><span class="es">&lt;</span><span class="enxsl">xsl:copy-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">*</span><span class="z">"</span><span id="wx5571" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w5573"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span id="wx5581" class="sc">/&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:element</span><span id="wx5585" class="ec">&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5589" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w5591"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:caption</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> suppress; dealt with by t:formal-object </span><span class="z">--&gt;</span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5613" class="ec">&gt;</span></span><span class="txt">

</span><span class="ww" id="w5615"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  </span><span class="z">&lt;!--</span><span class="cm"> process everything else in the default mode </span><span class="z">--&gt;</span><span class="txt">
  </span><span class="ww" id="w5635"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx5643" class="sc">/&gt;</span></span><span class="txt">
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx5647" class="ec">&gt;</span></span><span class="txt">

</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx5651" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>