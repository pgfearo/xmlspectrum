<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>make-toc.xsl</title><link rel="stylesheet" type="text/css" href="theme.css"></link></head><body><div><pre class="spectrum"><span class="ww" id="w1"><span class="es">&lt;</span><a class="solar" href="index.html"><span class="enxsl" id="e?{http://www.w3.org/1999/XSL/Transform}stylesheet">xsl:stylesheet</span></a><span class="z"> </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:xs</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2001/XMLSchema</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:loc</span><span class="atneq">=</span><span class="z">"</span><span class="av">com.qutoric.sketchpath.functions</span><span class="z">"</span><span class="z">
                </span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">loc f xs</span><span class="z">"</span><span class="z">
                </span><span class="atn">xpath-default-namespace</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">internal</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> Creates a table of contents derived from globals result-tree </span><span class="z">--&gt;</span><span class="txt">
  
  
  </span><span class="ww" id="w57"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?create-toc">create-toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w67"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="pname" id="p?globals">globals</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">element()</span><span class="z">"</span><span class="z"> </span><span class="atn">tunnel</span><span class="atneq">=</span><span class="z">"</span><span class="av">yes</span><span class="z">"</span><span id="wx87" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w89"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="pname" id="p?path">path</span><span class="z">"</span><span id="wx97" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w99"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="pname" id="p?css-link">css-link</span><span class="z">"</span><span id="wx107" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w109"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="pname" id="p?output-method">output-method</span><span class="z">"</span><span id="wx117" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w119"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="pname" id="p?is-css-inline">is-css-inline</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:boolean</span><span class="z">"</span><span id="wx133" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w135"><span class="es">&lt;</span><span class="enxsl">xsl:result-document</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function">concat</span></a><span class="parenthesis">(</span><span class="variable">$path</span><span class="op">,</span><span class="whitespace"> </span><span class="op">'</span><span class="literal">index.html</span><span class="op">'</span><span class="parenthesis">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">method</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="highlight-file.xsl.html#p?output-method" class="solar"><span class="variable">$output-method</span></a><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">indent</span><span class="atneq">=</span><span class="z">"</span><span class="av">no</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      
      </span><span class="ww" id="w169"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="highlight-file.xsl.html#p?output-method" class="solar"><span class="variable">$output-method</span></a><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="op">'</span><span class="literal">html</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w185"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="z"> </span><span class="atn">disable-output-escaping</span><span class="atneq">=</span><span class="z">'</span><span class="av">yes</span><span class="z">'</span><span class="scx">&gt;</span><span class="txt">&amp;lt;!DOCTYPE html&gt;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx197" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx201" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w203"><span class="es">&lt;</span><span class="en">html</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w207"><span class="es">&lt;</span><span class="en">head</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w211"><span class="es">&lt;</span><span class="en">title</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w215"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="op">'</span><span class="literal">Summary View</span><span class="op">'</span><span class="z">"</span><span id="wx225" class="sc">/&gt;</span></span><span class="txt"></span><span class="ez">&lt;/</span><span class="cl">title</span><span id="wx229" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w231"><span class="es">&lt;</span><span class="en">link</span><span class="z"> </span><span class="atn">rel</span><span class="atneq">=</span><span class="z">"</span><span class="av">stylesheet</span><span class="z">"</span><span class="z"> </span><span class="atn">type</span><span class="atneq">=</span><span class="z">"</span><span class="av">text/css</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable">$css-link</span><span class="op">}</span><span class="z">"</span><span id="wx253" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">head</span><span id="wx257" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w259"><span class="es">&lt;</span><span class="en">body</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w263"><span class="es">&lt;</span><span class="en">div</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">spectrum-toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w273"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable">$is-css-inline</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w283"><span class="es">&lt;</span><span class="enxsl">xsl:attribute</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">style</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="xmlspectrum.xsl.html#f?{internal}inline-css-toc" class="solar"><span class="function">f:inline-css-toc</span></a><span class="parenthesis">(</span><span class="parenthesis">)</span><span class="z">"</span><span id="wx299" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx303" class="ec">&gt;</span></span><span class="txt">
            
            </span><span class="ww" id="w305"><span class="es">&lt;</span><span class="en">p</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">av</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w315"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">z</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">(HTML code rendering by XMLSpectrum)</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx327" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">p</span><span id="wx331" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w333"><span class="es">&lt;</span><span class="en">h3</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w337"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">av</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Global XSLT Module Members</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx349" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">h3</span><span id="wx353" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w355"><span class="es">&lt;</span><span class="en">p</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">av</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w365"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?epath">epath</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="parenthesis">(</span><span class="variable">$globals</span><span class="step">/</span><span class="qname">file</span><span class="parenthesis">)</span><span class="filter">[</span><span class="numeric">1</span><span class="filter">]</span><span class="step">/</span><span class="axis">@</span><span class="qname">path</span><span class="z">"</span><span id="wx389" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w391"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">solar</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function">concat</span></a><span class="parenthesis">(</span><span class="variable">$epath</span><span class="op">,</span><span class="op">'</span><span class="literal">.html</span><span class="op">'</span><span class="parenthesis">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">style</span><span class="atneq">=</span><span class="z">"</span><span class="av">text-decoration:none</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w422"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">av</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Entry file: </span><span class="ww" id="w432"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable">$epath</span><span class="z">"</span><span id="wx440" class="sc">/&gt;</span></span><span class="txt"></span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx444" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx448" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">p</span><span id="wx452" class="ec">&gt;</span></span><span class="txt">
            
            </span><span class="ww" id="w454"><span class="es">&lt;</span><span class="en">ul</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">spectrum-toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w464"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable">$globals</span><span class="step">/</span><span class="qname">file</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span id="wx480" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx484" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx488" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">body</span><span id="wx492" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">html</span><span id="wx496" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:result-document</span><span id="wx500" class="ec">&gt;</span></span><span class="txt">
    
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx504" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w506"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname">file</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    
    </span><span class="ww" id="w522"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w526"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">solar</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function">concat</span></a><span class="parenthesis">(</span><span class="axis">@</span><span class="qname">path</span><span class="op">,</span><span class="op">'</span><span class="literal">.html</span><span class="op">'</span><span class="parenthesis">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">style</span><span class="atneq">=</span><span class="z">"</span><span class="av">text-decoration:none</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w558"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">blue</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">File: </span><span class="ww" id="w568"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis">@</span><span class="qname">path</span><span class="z">"</span><span id="wx577" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx581" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx585" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx589" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ww" id="w591"><span class="es">&lt;</span><span class="en">ul</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">spectrum-toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w601"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-exists" class="solar"><span class="function">exists</span></a><span class="parenthesis">(</span><span class="qname">templates</span><span class="step">/</span><span class="qname">item</span><span class="parenthesis">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w616"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w620"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">en</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Templates</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx632" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w634"><span class="es">&lt;</span><span class="en">ul</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w638"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname">templates</span><span class="step">/</span><span class="qname">item</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w656"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="make-toc.xsl.html#f?{internal}resolve-clark-name" class="solar"><span class="function">f:resolve-clark-name</span></a><span class="parenthesis">(</span><span class="context">.</span><span class="parenthesis">)</span><span class="z">"</span><span id="wx667" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w669"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">path</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis">@</span><span class="qname">path</span><span class="z">"</span><span id="wx684" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx688" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx692" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx696" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx700" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w702"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-exists" class="solar"><span class="function">exists</span></a><span class="parenthesis">(</span><span class="qname">functions</span><span class="step">/</span><span class="qname">item</span><span class="parenthesis">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w717"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w721"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">fname</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Functions</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx733" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w735"><span class="es">&lt;</span><span class="en">ul</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w739"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname">functions</span><span class="step">/</span><span class="qname">item</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w757"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="make-toc.xsl.html#f?{internal}resolve-clark-name" class="solar"><span class="function">f:resolve-clark-name</span></a><span class="parenthesis">(</span><span class="context">.</span><span class="parenthesis">)</span><span class="z">"</span><span id="wx768" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w770"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">path</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis">@</span><span class="qname">path</span><span class="z">"</span><span id="wx785" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx789" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx793" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx797" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx801" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w803"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-exists" class="solar"><span class="function">exists</span></a><span class="parenthesis">(</span><span class="qname">variables</span><span class="step">/</span><span class="qname">item</span><span class="parenthesis">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w818"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w822"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">vname</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Variables</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx834" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w836"><span class="es">&lt;</span><span class="en">ul</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w840"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname">variables</span><span class="step">/</span><span class="qname">item</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w858"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="make-toc.xsl.html#f?{internal}resolve-clark-name" class="solar"><span class="function">f:resolve-clark-name</span></a><span class="parenthesis">(</span><span class="context">.</span><span class="parenthesis">)</span><span class="z">"</span><span id="wx869" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w871"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">path</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis">@</span><span class="qname">path</span><span class="z">"</span><span id="wx886" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx890" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx894" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx898" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx902" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w904"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-exists" class="solar"><span class="function">exists</span></a><span class="parenthesis">(</span><span class="qname">params</span><span class="step">/</span><span class="qname">item</span><span class="parenthesis">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w919"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w923"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">vname</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">Parameters</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx935" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w937"><span class="es">&lt;</span><span class="en">ul</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w941"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname">params</span><span class="step">/</span><span class="qname">item</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w959"><span class="es">&lt;</span><span class="enxsl">xsl:sort</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="make-toc.xsl.html#f?{internal}resolve-clark-name" class="solar"><span class="function">f:resolve-clark-name</span></a><span class="parenthesis">(</span><span class="context">.</span><span class="parenthesis">)</span><span class="z">"</span><span id="wx970" class="sc">/&gt;</span></span><span class="txt">
              </span><span class="ww" id="w972"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">path</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis">@</span><span class="qname">path</span><span class="z">"</span><span id="wx987" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:apply-templates</span><span id="wx991" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx995" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx999" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1003" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1005"><span class="es">&lt;</span><span class="enxsl">xsl:if</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function">not</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-exists" class="solar"><span class="function">exists</span></a><span class="parenthesis">(</span><span class="op">*</span><span class="step">/</span><span class="qname">item</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1023"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w1027"><span class="es">&lt;</span><span class="en">span</span><span class="scx">&gt;</span><span class="txt">[None]</span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx1033" class="ec">&gt;</span></span><span class="txt"></span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx1037" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:if</span><span id="wx1041" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">ul</span><span id="wx1045" class="ec">&gt;</span></span><span class="txt">
    
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1049" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1051"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname">item</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">toc</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1067"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="pname" id="p?path">path</span><span class="z">"</span><span id="wx1075" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w1077"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?char">char</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring" class="solar"><span class="function">substring</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function">local-name</span></a><span class="parenthesis">(</span><span class="context">..</span><span class="parenthesis">)</span><span class="op">,</span><span class="numeric">1</span><span class="op">,</span><span class="whitespace"> </span><span class="numeric">1</span><span class="parenthesis">)</span><span class="z">"</span><span id="wx1102" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1104"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?name">name</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="make-toc.xsl.html#f?{internal}resolve-clark-name" class="solar"><span class="function">f:resolve-clark-name</span></a><span class="parenthesis">(</span><span class="context">.</span><span class="parenthesis">)</span><span class="z">"</span><span id="wx1121" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1123"><span class="es">&lt;</span><span class="en">li</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1127"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">solar</span><span class="z">"</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="http://www.w3.org/TR/xpath-functions/#func-concat" class="solar"><span class="function">concat</span></a><span class="parenthesis">(</span><span class="variable">$path</span><span class="op">,</span><span class="whitespace"> </span><span class="op">'</span><span class="literal">.html</span><span class="op">'</span><span class="op">,</span><span class="whitespace"> </span><span class="op">'</span><span class="literal">#</span><span class="op">'</span><span class="op">,</span><span class="variable">$char</span><span class="op">,</span><span class="op">'</span><span class="literal">?</span><span class="op">'</span><span class="op">,</span><span class="whitespace"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function">string</span></a><span class="parenthesis">(</span><span class="context">.</span><span class="parenthesis">)</span><span class="parenthesis">)</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">style</span><span class="atneq">=</span><span class="z">"</span><span class="av">text-decoration:none</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1176"><span class="es">&lt;</span><span class="en">span</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">atn</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt"></span><span class="ww" id="w1186"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable">$name</span><span class="z">"</span><span id="wx1194" class="sc">/&gt;</span></span><span class="txt"></span><span class="ez">&lt;/</span><span class="cl">span</span><span id="wx1198" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx1202" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">li</span><span id="wx1206" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1210" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1212"><span class="es">&lt;</span><span class="enxsl">xsl:function</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="fname" id="f?{internal}resolve-clark-name">f:resolve-clark-name</span><span class="z">"</span><span class="z"> </span><span class="atn">as</span><span class="atneq">=</span><span class="z">"</span><span class="av">xs:string</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1228"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="pname" id="p?text">text</span><span class="z">"</span><span id="wx1236" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1238"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?ns">ns</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring" class="solar"><span class="function">substring</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-before" class="solar"><span class="function">substring-before</span></a><span class="parenthesis">(</span><span class="variable">$text</span><span class="op">,</span><span class="whitespace"> </span><span class="op">'</span><span class="literal">}</span><span class="op">'</span><span class="parenthesis">)</span><span class="op">,</span><span class="whitespace"> </span><span class="numeric">2</span><span class="parenthesis">)</span><span class="z">"</span><span id="wx1266" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w1268"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if">if</span><span class="whitespace"> </span><span class="parenthesis">(</span><span class="variable">$ns</span><span class="whitespace"> </span><span class="op">eq</span><span class="whitespace"> </span><span class="op">'</span><span class="literal"></span><span class="op">'</span><span class="parenthesis">)</span><span class="whitespace"> </span><span class="op">then</span><span class="whitespace">
                          </span><a href="http://www.w3.org/TR/xpath-functions/#func-string" class="solar"><span class="function">string</span></a><span class="parenthesis">(</span><span class="variable">$text</span><span class="parenthesis">)</span><span class="whitespace">  
                          </span><span class="op">else</span><span class="whitespace">
                          </span><a href="http://www.w3.org/TR/xpath-functions/#func-substring-after" class="solar"><span class="function">substring-after</span></a><span class="parenthesis">(</span><span class="variable">$text</span><span class="op">,</span><span class="whitespace"> </span><span class="op">'</span><span class="literal">}</span><span class="op">'</span><span class="parenthesis">)</span><span class="whitespace">
                          </span><span class="z">"</span><span id="wx1306" class="sc">/&gt;</span></span><span class="txt">
    
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:function</span><span id="wx1310" class="ec">&gt;</span></span><span class="txt">
  
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx1314" class="ec">&gt;</span></span><span class="txt">

</span></pre></div></body></html>