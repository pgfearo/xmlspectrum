<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>callouts.xsl</title><link rel="stylesheet" type="text/css" href="../../../theme.css"></head><body><div><p class="spectrum"><span class="z">&lt;?</span><span class="pi">xml version="1.0" encoding="utf-8"</span><span class="z">?&gt;</span><span class="txt">
</span><span class="ww" id="w5"><span class="es">&lt;</span><a class="solar" href="../../../index.html"><span class="enxsl" id="e?{http://www.w3.org/1999/XSL/Transform}stylesheet">xsl:stylesheet</span></a><span class="z"> </span><span class="atn">xmlns:xsl</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/XSL/Transform</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:db</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:doc</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/documentation/1.0</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:f</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/extension</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:ghost</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/ns/docbook/ephemeral</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:h</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/1999/xhtml</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:m</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/mode</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:t</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://docbook.org/xslt/ns/template</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:u</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://nwalsh.com/xsl/unittests#</span><span class="z">"</span><span class="z">
                </span><span class="atn">xmlns:xlink</span><span class="atneq">=</span><span class="z">'</span><span class="av">http://www.w3.org/1999/xlink</span><span class="z">'</span><span class="z">
                </span><span class="atn">xmlns:xs</span><span class="atneq">=</span><span class="z">"</span><span class="av">http://www.w3.org/2001/XMLSchema</span><span class="z">"</span><span class="z">
                </span><span class="atn">exclude-result-prefixes</span><span class="atneq">=</span><span class="z">"</span><span class="av">db doc f ghost h m t u xlink xs</span><span class="z">"</span><span class="z">
                </span><span class="atn">version</span><span class="atneq">=</span><span class="z">"</span><span class="av">2.0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> ********************************************************************
  $Id: callouts.xsl 8562 2009-12-17 23:10:25Z nwalsh $
  ********************************************************************
  
  This file is part of the XSL DocBook Stylesheet distribution.
  See ../README or http://docbook.sourceforge.net/ for copyright
  and other information.
  
  ******************************************************************** </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="z">&lt;!--</span><span class="cm"> ============================================================ </span><span class="z">--&gt;</span><span class="txt">
  
  </span><span class="ww" id="w101"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:co</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> Support a single linkend in HTML </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="ww" id="w115"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?targets">targets</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="1" pair-end="20" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="5">id</span><span class="op">'</span><span class="op" start="9">,</span><span class="whitespace" start="10"> </span><span class="axis" start="11">@</span><span class="qname" start="12" select="quick">linkends</span><span class="parenthesis" start="20">)</span><span class="z">"</span><span id="wx138" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w140"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?target">target</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$targets</span><span class="filter" start="9" pair-end="11" select="quick">[</span><span class="numeric" start="10">1</span><span class="filter" start="11">]</span><span class="z">"</span><span id="wx157" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w159"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w163"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w173"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="../../../xslt/base/html/html.xsl.html#f?{http://docbook.org/xslt/ns/extension}href" class="solar"><span class="function" start="1" pair-end="17" select="quick">f:href</span></a><span class="parenthesis">(</span><span class="step" start="8">/</span><span class="op" start="9">,</span><span class="variable" start="10" select="quick">$target</span><span class="parenthesis" start="17">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w190"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx204" class="sc">/&gt;</span></span><span class="txt">
          </span><span class="ww" id="w206"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:callout-bug</span><span class="z">"</span><span id="wx220" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx224" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx228" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w230"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w234"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/html.xsl.html#t?anchor" class="solar"><span class="tcall">anchor</span></a><span class="z">"</span><span id="wx242" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w244"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:callout-bug</span><span class="z">"</span><span id="wx258" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx262" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx266" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx270" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w272"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:coref</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> tricky; this relies on the fact that we can process the "co" that's </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm"> "over there" as if it were "right here" </span><span class="z">--&gt;</span><span class="txt">
    </span><span class="ww" id="w290"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?co">co</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="1" pair-end="19" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="5">id</span><span class="op">'</span><span class="op" start="9">,</span><span class="whitespace" start="10"> </span><span class="axis" start="11">@</span><span class="qname" start="12" select="quick">linkend</span><span class="parenthesis" start="19">)</span><span class="z">"</span><span id="wx313" class="sc">/&gt;</span></span><span class="txt">
    </span><span class="ww" id="w315"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w319"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="1" pair-end="8" select="quick">not</span></a><span class="parenthesis">(</span><span class="variable" start="5" select="quick">$co</span><span class="parenthesis" start="8">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w332"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w336"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Error: coref link is broken: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx342" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w344"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">linkend</span><span class="z">"</span><span id="wx353" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx357" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx361" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w363"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-local-name" class="solar"><span class="function" start="1" pair-end="15" select="quick">local-name</span></a><span class="parenthesis">(</span><span class="variable" start="12" select="quick">$co</span><span class="parenthesis" start="15">)</span><span class="whitespace" start="16"> </span><span class="op" start="17">!=</span><span class="whitespace" start="19"> </span><span class="op">'</span><span class="literal" start="20">co</span><span class="op">'</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w382"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w386"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Error: coref doesn't point to a co: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx392" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w394"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="axis" start="1">@</span><span class="qname" start="2" select="quick">linkend</span><span class="z">"</span><span id="wx403" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx407" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx411" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w413"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w417"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$co</span><span class="z">"</span><span id="wx425" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx429" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx433" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx437" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w439"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:co</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:callout-bug</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="z">&lt;!--</span><span class="cm">
    &lt;xsl:message&gt;
    &lt;xsl:text&gt;CO: &lt;/xsl:text&gt;
    &lt;xsl:value-of select="count(ancestor::db:programlisting)"/&gt;
    &lt;xsl:value-of select="count(ancestor::db:screen)"/&gt;
    &lt;xsl:value-of select="count(ancestor::db:synopsis)"/&gt;
    &lt;xsl:value-of select="count(ancestor::db:literallayout)"/&gt;
    &lt;xsl:value-of select="count(ancestor::db:address)"/&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:value-of select="@xml:id"/&gt;
    &lt;xsl:text&gt; &lt;/xsl:text&gt;
    &lt;xsl:number count="db:co"
    level="single"
    format="1"/&gt;
    &lt;xsl:text&gt;, &lt;/xsl:text&gt;
    &lt;xsl:number count="db:co"
    level="any"
    from="db:programlisting|db:screen|db:synopsis
    |db:literallayout|db:address"
    format="1"/&gt;
    &lt;/xsl:message&gt;
    </span><span class="z">--&gt;</span><span class="txt">
    
    </span><span class="ww" id="w459"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/callouts.xsl.html#t?{http://docbook.org/xslt/ns/template}callout-bug" class="solar"><span class="tcall">t:callout-bug</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w469"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">conum</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w479"><span class="es">&lt;</span><span class="enxsl">xsl:number</span><span class="z"> </span><span class="atn">count</span><span class="atneq">=</span><span class="z">"</span><span class="av">db:co</span><span class="z">"</span><span class="z">
                    </span><span class="atn">level</span><span class="atneq">=</span><span class="z">"</span><span class="av">any</span><span class="z">"</span><span class="z">
                    </span><span class="atn">format</span><span class="atneq">=</span><span class="z">"</span><span class="av">1</span><span class="z">"</span><span id="wx499" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:with-param</span><span id="wx503" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx507" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx511" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w513"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="tname" id="t?{http://docbook.org/xslt/ns/template}callout-bug">t:callout-bug</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w523"><span class="es">&lt;</span><span class="enxsl">xsl:param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?conum">conum</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">'</span><span class="numeric" start="1">1</span><span class="z">'</span><span id="wx537" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w539"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?iconum">iconum</span><span class="z">"</span><span class="z">
                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="if" start="1">if</span><span class="whitespace" start="3"> </span><span class="parenthesis" start="4" pair-end="34" select="quick">(</span><span class="variable" start="5" select="quick">$conum</span><span class="whitespace" start="11"> </span><span class="type-op" start="12">castable as</span><span class="whitespace" start="23"> </span><span class="type-name" start="24">xs:decimal</span><span class="parenthesis" start="34">)</span><span class="whitespace" start="35">
                          </span><span class="op" start="60">then</span><span class="whitespace" start="64"> </span><span class="function" start="65" pair-end="82" select="quick">xs:decimal</span><span class="parenthesis">(</span><span class="variable" start="76" select="quick">$conum</span><span class="parenthesis" start="82">)</span><span class="whitespace" start="83"> </span><span class="op" start="84">else</span><span class="whitespace" start="88"> </span><span class="numeric" start="89">1</span><span class="z">"</span><span id="wx572" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w574"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w578"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/param.xsl.html#v?callout.graphics" class="solar"><span class="variable" start="1" select="quick">$callout.graphics</span></a><span class="whitespace" start="18"> </span><span class="op" start="19">!=</span><span class="whitespace" start="21"> </span><span class="numeric" start="22">0</span><span class="whitespace" start="23">
                      </span><span class="op" start="44">and</span><span class="whitespace" start="47"> </span><span class="variable" start="48" select="quick">$iconum</span><span class="whitespace" start="55"> </span><span class="qname" start="56" select="quick">&amp;</span><span class="op" start="57">lt</span><span class="qname" start="59" select="quick">;</span><span class="op" start="60">=</span><span class="whitespace" start="61"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-number" class="solar"><span class="function" start="62" pair-end="99" select="quick">number</span></a><span class="parenthesis">(</span><a href="../../../xslt/base/html/param.xsl.html#v?callout.graphics.number.limit" class="solar"><span class="variable" start="69" select="quick">$callout.graphics.number.limit</span></a><span class="parenthesis" start="99">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w606"><span class="es">&lt;</span><span class="en">img</span><span class="z"> </span><span class="atn">src</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="../../../xslt/base/html/param.xsl.html#v?callout.graphics.path" class="solar"><span class="variable" start="1" select="quick">$callout.graphics.path</span></a><span class="op">}</span><span class="op">{</span><span class="variable" start="1" select="quick">$iconum</span><span class="op">}</span><span class="op">{</span><a href="../../../xslt/base/html/param.xsl.html#v?callout.graphics.extension" class="solar"><span class="variable" start="1" select="quick">$callout.graphics.extension</span></a><span class="op">}</span><span class="z">"</span><span class="z">
             </span><span class="atn">alt</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><span class="variable" start="1" select="quick">$iconum</span><span class="op">}</span><span class="z">"</span><span class="z"> </span><span class="atn">border</span><span class="atneq">=</span><span class="z">"</span><span class="av">0</span><span class="z">"</span><span id="wx636" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx640" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w642"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/param.xsl.html#v?callout.unicode" class="solar"><span class="variable" start="1" select="quick">$callout.unicode</span></a><span class="whitespace" start="17"> </span><span class="op" start="18">!=</span><span class="whitespace" start="20"> </span><span class="numeric" start="21">0</span><span class="whitespace" start="22">
                      </span><span class="op" start="43">and</span><span class="whitespace" start="46"> </span><span class="variable" start="47" select="quick">$iconum</span><span class="whitespace" start="54"> </span><span class="qname" start="55" select="quick">&amp;</span><span class="op" start="56">lt</span><span class="qname" start="58" select="quick">;</span><span class="op" start="59">=</span><span class="whitespace" start="60"> </span><a href="../../../xslt/base/html/param.xsl.html#v?callout.unicode.number.limit" class="solar"><span class="variable" start="61" select="quick">$callout.unicode.number.limit</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w667"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w671"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/param.xsl.html#v?callout.unicode.start.character" class="solar"><span class="variable" start="1" select="quick">$callout.unicode.start.character</span></a><span class="whitespace" start="33"> </span><span class="op" start="34">=</span><span class="whitespace" start="35"> </span><span class="numeric" start="36">10102</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w685"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w689"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">1</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&amp;#10102;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx705" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w707"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">2</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&amp;#10103;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx723" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w725"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">3</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&amp;#10104;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx741" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w743"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">4</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&amp;#10105;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx759" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w761"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">5</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&amp;#10106;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx777" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w779"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">6</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&amp;#10107;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx795" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w797"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">7</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&amp;#10108;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx813" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w815"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">8</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&amp;#10109;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx831" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w833"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">9</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&amp;#10110;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx849" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w851"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="whitespace" start="8"> </span><span class="op" start="9">=</span><span class="whitespace" start="10"> </span><span class="numeric" start="11">10</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">&amp;#10111;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx867" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx871" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx875" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w877"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w881"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w885"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Don't know how to generate Unicode callouts </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx891" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w893"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">when $callout.unicode.start.character is </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx899" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w901"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/param.xsl.html#v?callout.unicode.start.character" class="solar"><span class="variable" start="1" select="quick">$callout.unicode.start.character</span></a><span class="z">"</span><span id="wx909" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx913" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w915"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">(</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx921" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ww" id="w923"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="z">"</span><span id="wx931" class="sc">/&gt;</span></span><span class="txt">
            </span><span class="ww" id="w933"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">)</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx939" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx943" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx947" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx951" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w953"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w957"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">(</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx963" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ww" id="w965"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$iconum</span><span class="z">"</span><span id="wx973" class="sc">/&gt;</span></span><span class="txt">
        </span><span class="ww" id="w975"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">)</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx981" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx985" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx989" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx993" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w995"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:calloutlist</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1005"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?titlepage">titlepage</span><span class="z">"</span><span class="z">
                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/titlepages.xsl.html#v?titlepages" class="solar"><span class="variable" start="1" select="quick">$titlepages</span></a><span class="step" start="12">/</span><span class="qname" start="13" select="quick">*</span><span class="filter" start="14" pair-end="67" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="15" pair-end="26" select="quick">node-name</span></a><span class="parenthesis">(</span><span class="context" start="25">.</span><span class="parenthesis" start="26">)</span><span class="whitespace" start="27">
                          </span><span class="op" start="45">=</span><span class="whitespace" start="46"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-node-name" class="solar"><span class="function" start="47" pair-end="66" select="quick">node-name</span></a><span class="parenthesis">(</span><a href="http://www.w3.org/TR/xpath-functions/#func-current" class="solar"><span class="function" start="57" pair-end="65" select="quick">current</span></a><span class="parenthesis">(</span><span class="parenthesis" start="65">)</span><span class="parenthesis" start="66">)</span><span class="filter" start="67">]</span><span class="filter" start="68" pair-end="70" select="quick">[</span><span class="numeric" start="69">1</span><span class="filter" start="70">]</span><span class="z">"</span><span id="wx1039" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w1041"><span class="es">&lt;</span><span class="en">div</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1045"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx1059" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1061"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/common/titlepages.xsl.html#t?titlepage" class="solar"><span class="tcall">titlepage</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1071"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">content</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$titlepage</span><span class="z">"</span><span id="wx1085" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1089" class="ec">&gt;</span></span><span class="txt">
      
      </span><span class="ww" id="w1091"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">*</span><span class="filter" start="2" pair-end="54" select="quick">[</span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="3" pair-end="20" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="7">self::</span><span class="qname" start="13" select="quick">db:info</span><span class="parenthesis" start="20">)</span><span class="whitespace" start="21">
                                   </span><span class="op" start="29">and</span><span class="whitespace" start="32"> </span><a href="http://www.w3.org/TR/xpath-functions/#func-not" class="solar"><span class="function" start="33" pair-end="53" select="quick">not</span></a><span class="parenthesis">(</span><span class="axis" start="37">self::</span><span class="qname" start="43" select="quick">db:callout</span><span class="parenthesis" start="53">)</span><span class="filter" start="54">]</span><span class="z">"</span><span id="wx1114" class="sc">/&gt;</span></span><span class="txt">
      
      </span><span class="z">&lt;!--</span><span class="cm"> If you can get CSS to do this layout right, pleaes tell me how </span><span class="z">--&gt;</span><span class="txt">
      </span><span class="ww" id="w1120"><span class="es">&lt;</span><span class="en">table</span><span class="z"> </span><span class="atn">border</span><span class="atneq">=</span><span class="z">"</span><span class="av">0</span><span class="z">"</span><span class="z"> </span><span class="atn">summary</span><span class="atneq">=</span><span class="z">"</span><span class="av">Callout list</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1136"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:callout</span><span class="z">"</span><span id="wx1144" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">table</span><span id="wx1148" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">div</span><span id="wx1152" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1156" class="ec">&gt;</span></span><span class="txt">
  
  </span><span class="ww" id="w1158"><span class="es">&lt;</span><span class="enxsl">xsl:template</span><span class="z"> </span><span class="atn">match</span><span class="atneq">=</span><span class="z">"</span><span class="qname" start="1" select="quick">db:callout</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
    </span><span class="ww" id="w1168"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?doc">doc</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="step" start="1">/</span><span class="z">"</span><span id="wx1182" class="sc">/&gt;</span></span><span class="txt">
    
    </span><span class="ww" id="w1184"><span class="es">&lt;</span><span class="en">tr</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">callout-row</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
      </span><span class="ww" id="w1194"><span class="es">&lt;</span><span class="en">td</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">callout-bug</span><span class="z">"</span><span class="z"> </span><span class="atn">valign</span><span class="atneq">=</span><span class="z">"</span><span class="av">baseline</span><span class="z">"</span><span class="z"> </span><span class="atn">align</span><span class="atneq">=</span><span class="z">"</span><span class="av">left</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1216"><span class="es">&lt;</span><span class="en">p</span><span class="scx">&gt;</span><span class="txt">
          </span><span class="ww" id="w1220"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:html-attributes</span><span class="z">"</span><span id="wx1234" class="sc">/&gt;</span></span><span class="txt">
          
          </span><span class="ww" id="w1236"><span class="es">&lt;</span><span class="enxsl">xsl:for-each</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-tokenize" class="solar"><span class="function" start="1" pair-end="24" select="quick">tokenize</span></a><span class="parenthesis">(</span><span class="axis" start="10">@</span><span class="qname" start="11" select="quick">arearefs</span><span class="op" start="19">,</span><span class="op">'</span><span class="literal" start="20">\s</span><span class="op">'</span><span class="parenthesis" start="24">)</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
            </span><span class="ww" id="w1254"><span class="es">&lt;</span><span class="enxsl">xsl:variable</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="vname" id="v?target">target</span><span class="z">"</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-key" class="solar"><span class="function" start="1" pair-end="16" select="quick">key</span></a><span class="parenthesis">(</span><span class="op">'</span><span class="literal" start="5">id</span><span class="op">'</span><span class="op" start="9">,</span><span class="context" start="10">.</span><span class="op" start="11">,</span><span class="variable" start="12" select="quick">$doc</span><span class="parenthesis" start="16">)</span><span class="filter" start="17" pair-end="19" select="quick">[</span><span class="numeric" start="18">1</span><span class="filter" start="19">]</span><span class="z">"</span><span id="wx1280" class="sc">/&gt;</span></span><span class="txt">
            
            </span><span class="ww" id="w1282"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
              </span><span class="ww" id="w1286"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="1" pair-end="14" select="quick">count</span></a><span class="parenthesis">(</span><span class="variable" start="7" select="quick">$target</span><span class="parenthesis" start="14">)</span><span class="op" start="15">=</span><span class="numeric" start="16">0</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w1301"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w1305"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Error? callout points to non-existent id: </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1311" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ww" id="w1313"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="context" start="1">.</span><span class="z">"</span><span id="wx1321" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx1325" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w1327"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">???</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1333" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1337" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1339"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target</span><span class="step" start="8">/</span><span class="axis" start="9">self::</span><span class="qname" start="15" select="quick">db:co</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w1352"><span class="es">&lt;</span><span class="en">a</span><span class="z"> </span><span class="atn">href</span><span class="atneq">=</span><span class="z">"</span><span class="op">{</span><a href="../../../xslt/base/html/html.xsl.html#f?{http://docbook.org/xslt/ns/extension}href" class="solar"><span class="function" start="1" pair-end="20" select="quick">f:href</span></a><span class="parenthesis">(</span><span class="variable" start="8" select="quick">$doc</span><span class="op" start="12">,</span><span class="variable" start="13" select="quick">$target</span><span class="parenthesis" start="20">)</span><span class="op">}</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w1369"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target</span><span class="z">"</span><span class="z"> </span><span class="atn">mode</span><span class="atneq">=</span><span class="z">"</span><span class="av">m:callout-bug</span><span class="z">"</span><span id="wx1383" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="cl">a</span><span id="wx1387" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w1389"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">&amp;#160;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1395" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1399" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1401"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target</span><span class="step" start="8">/</span><span class="axis" start="9">self::</span><span class="qname" start="15" select="quick">db:areaset</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w1414"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/callouts.xsl.html#t?{http://docbook.org/xslt/ns/template}callout-bug" class="solar"><span class="tcall">t:callout-bug</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w1424"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">conum</span><span class="z">"</span><span class="z">
                                  </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="1" pair-end="85" select="quick">count</span></a><span class="parenthesis">(</span><span class="variable" start="7" select="quick">$target</span><span class="step" start="14">/</span><span class="axis" start="15">preceding-sibling::</span><span class="qname" start="34" select="quick">db:areaset</span><span class="whitespace" start="44">
                                          </span><span class="op" start="50">|</span><span class="variable" start="51" select="quick">$target</span><span class="step" start="58">/</span><span class="axis" start="59">preceding-sibling::</span><span class="qname" start="78" select="quick">db:area</span><span class="parenthesis" start="85">)</span><span class="whitespace" start="86">
                                          </span><span class="op" start="92">+</span><span class="numeric" start="93">1</span><span class="z">"</span><span id="wx1453" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1457" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1461" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1463"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target</span><span class="step" start="8">/</span><span class="axis" start="9">self::</span><span class="qname" start="15" select="quick">db:area</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w1476"><span class="es">&lt;</span><span class="enxsl">xsl:choose</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w1480"><span class="es">&lt;</span><span class="enxsl">xsl:when</span><span class="z"> </span><span class="atn">test</span><span class="atneq">=</span><span class="z">"</span><span class="variable" start="1" select="quick">$target</span><span class="step" start="8">/</span><span class="axis" start="9">parent::</span><span class="qname" start="17" select="quick">db:areaset</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                    </span><span class="ww" id="w1493"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/callouts.xsl.html#t?{http://docbook.org/xslt/ns/template}callout-bug" class="solar"><span class="tcall">t:callout-bug</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                      </span><span class="ww" id="w1503"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">conum</span><span class="z">"</span><span class="z">
                                      </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="1" pair-end="127" select="quick">count</span></a><span class="parenthesis">(</span><span class="variable" start="7" select="quick">$target</span><span class="step" start="14">/</span><span class="axis" start="15">parent::</span><span class="qname" start="23" select="quick">db:areaset</span><span class="step" start="33">/</span><span class="axis" start="34">preceding-sibling::</span><span class="qname" start="53" select="quick">db:areaset</span><span class="whitespace" start="63">
                                              </span><span class="op" start="73">|</span><span class="variable" start="74" select="quick">$target</span><span class="step" start="81">/</span><span class="axis" start="82">parent::</span><span class="qname" start="90" select="quick">db:areaset</span><span class="step" start="100">/</span><span class="axis" start="101">preceding-sibling::</span><span class="qname" start="120" select="quick">db:area</span><span class="parenthesis" start="127">)</span><span class="whitespace" start="128">
                                              </span><span class="op" start="138">+</span><span class="numeric" start="139">1</span><span class="z">"</span><span id="wx1538" class="sc">/&gt;</span></span><span class="txt">
                    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1542" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1546" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ww" id="w1548"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                    </span><span class="ww" id="w1552"><span class="es">&lt;</span><span class="enxsl">xsl:call-template</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><a href="../../../xslt/base/html/callouts.xsl.html#t?{http://docbook.org/xslt/ns/template}callout-bug" class="solar"><span class="tcall">t:callout-bug</span></a><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
                      </span><span class="ww" id="w1562"><span class="es">&lt;</span><span class="enxsl">xsl:with-param</span><span class="z"> </span><span class="atn">name</span><span class="atneq">=</span><span class="z">"</span><span class="av">conum</span><span class="z">"</span><span class="z">
                                      </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-count" class="solar"><span class="function" start="1" pair-end="89" select="quick">count</span></a><span class="parenthesis">(</span><span class="variable" start="7" select="quick">$target</span><span class="step" start="14">/</span><span class="axis" start="15">preceding-sibling::</span><span class="qname" start="34" select="quick">db:areaset</span><span class="whitespace" start="44">
                                              </span><span class="op" start="54">|</span><span class="variable" start="55" select="quick">$target</span><span class="step" start="62">/</span><span class="axis" start="63">preceding-sibling::</span><span class="qname" start="82" select="quick">db:area</span><span class="parenthesis" start="89">)</span><span class="whitespace" start="90">
                                              </span><span class="op" start="100">+</span><span class="numeric" start="101">1</span><span class="z">"</span><span id="wx1591" class="sc">/&gt;</span></span><span class="txt">
                    </span><span class="ez">&lt;/</span><span class="clxsl">xsl:call-template</span><span id="wx1595" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1599" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1603" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:when</span><span id="wx1607" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ww" id="w1609"><span class="es">&lt;</span><span class="enxsl">xsl:otherwise</span><span class="scx">&gt;</span><span class="txt">
                </span><span class="ww" id="w1613"><span class="es">&lt;</span><span class="enxsl">xsl:message</span><span class="scx">&gt;</span><span class="txt">
                  </span><span class="ww" id="w1617"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">Error? callout points to </span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1623" class="ec">&gt;</span></span><span class="txt">
                  </span><span class="ww" id="w1625"><span class="es">&lt;</span><span class="enxsl">xsl:value-of</span><span class="z"> </span><span class="atn">select</span><span class="atneq">=</span><span class="z">"</span><a href="http://www.w3.org/TR/xpath-functions/#func-name" class="solar"><span class="function" start="1" pair-end="13" select="quick">name</span></a><span class="parenthesis">(</span><span class="variable" start="6" select="quick">$target</span><span class="parenthesis" start="13">)</span><span class="z">"</span><span id="wx1636" class="sc">/&gt;</span></span><span class="txt">
                </span><span class="ez">&lt;/</span><span class="clxsl">xsl:message</span><span id="wx1640" class="ec">&gt;</span></span><span class="txt">
                </span><span class="ww" id="w1642"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">???</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1648" class="ec">&gt;</span></span><span class="txt">
              </span><span class="ez">&lt;/</span><span class="clxsl">xsl:otherwise</span><span id="wx1652" class="ec">&gt;</span></span><span class="txt">
            </span><span class="ez">&lt;/</span><span class="clxsl">xsl:choose</span><span id="wx1656" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ez">&lt;/</span><span class="clxsl">xsl:for-each</span><span id="wx1660" class="ec">&gt;</span></span><span class="txt">
          </span><span class="ww" id="w1662"><span class="es">&lt;</span><span class="enxsl">xsl:text</span><span class="scx">&gt;</span><span class="txt">&amp;#160;</span><span class="ez">&lt;/</span><span class="clxsl">xsl:text</span><span id="wx1668" class="ec">&gt;</span></span><span class="txt">
        </span><span class="ez">&lt;/</span><span class="cl">p</span><span id="wx1672" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">td</span><span id="wx1676" class="ec">&gt;</span></span><span class="txt">
      </span><span class="ww" id="w1678"><span class="es">&lt;</span><span class="en">td</span><span class="z"> </span><span class="atn">class</span><span class="atneq">=</span><span class="z">"</span><span class="av">callout-body</span><span class="z">"</span><span class="z"> </span><span class="atn">valign</span><span class="atneq">=</span><span class="z">"</span><span class="av">baseline</span><span class="z">"</span><span class="z"> </span><span class="atn">align</span><span class="atneq">=</span><span class="z">"</span><span class="av">left</span><span class="z">"</span><span class="scx">&gt;</span><span class="txt">
        </span><span class="ww" id="w1700"><span class="es">&lt;</span><span class="enxsl">xsl:apply-templates</span><span id="wx1702" class="sc">/&gt;</span></span><span class="txt">
      </span><span class="ez">&lt;/</span><span class="cl">td</span><span id="wx1706" class="ec">&gt;</span></span><span class="txt">
    </span><span class="ez">&lt;/</span><span class="cl">tr</span><span id="wx1710" class="ec">&gt;</span></span><span class="txt">
  </span><span class="ez">&lt;/</span><span class="clxsl">xsl:template</span><span id="wx1714" class="ec">&gt;</span></span><span class="txt">
  
</span><span class="ez">&lt;/</span><span class="clxsl">xsl:stylesheet</span><span id="wx1718" class="ec">&gt;</span></span><span class="txt">
</span></p></div></body></html>